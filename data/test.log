exec ${PAGER:-/usr/bin/less} "$0" || exit 1
Executing tests from //test/cpp/end2end/xds:xds_end2end_test
-----------------------------------------------------------------------------
I0610 21:20:02.471401527      14 config.cc:239]                        gRPC experiments: event_engine_client:on; default-enabled: call_status_override_on_cancellation, event_engine_dns, event_engine_listener, http2_stats_fix, monitoring_experiment, pending_queue_cap, pick_first_new, trace_record_callops, work_serializer_clears_time_cache, work_serializer_dispatch
I0610 21:20:02.472039917      14 ev_epoll1_linux.cc:124]               grpc epoll fd: 3
Note: This is test shard 1 of 50.
[==========] Running 7 tests from 3 test suites.
[----------] Global test environment set-up.
[----------] 1 test from XdsTest/XdsSecurityTest
[ RUN      ] XdsTest/XdsSecurityTest.TestTlsConfigurationInCombinedValidationContext/V3XdsCreds
I0610 21:20:02.477678666      14 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:02.482711435      14 xds_end2end_test_lib.cc:138]          starting Balancer server on port 30151
I0610 21:20:02.483368305      35 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:02.485293495      40 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:02.487768535      40 ev_epoll1_linux.cc:359]               grpc epoll fd: 7
I0610 21:20:02.489456555      40 tcp_socket_utils.cc:636]              TCP_USER_TIMEOUT is available. TCP_USER_TIMEOUT will be used thereafter
I0610 21:20:02.490001275      14 xds_end2end_test_lib.cc:150]          Balancer server startup complete
I0610 21:20:02.492009704      14 xds_server.cc:54]                     ADS[0x55e48df07100:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource server.example.com; resource_type_version now 1
I0610 21:20:02.493713784      14 xds_server.cc:54]                     ADS[0x55e48df07100:Default Balancer]: Updating type.googleapis.com/envoy.config.cluster.v3.Cluster resource cluster_name; resource_type_version now 1
I0610 21:20:02.512930432      14 xds_end2end_test_lib.cc:138]          starting Backend server on port 8292
I0610 21:20:02.513425752      60 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:02.516606831      14 xds_end2end_test_lib.cc:150]          Backend server startup complete
I0610 21:20:02.516643161      14 xds_end2end_test_lib.cc:138]          starting Backend server on port 10306
I0610 21:20:02.516953961      62 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:02.519713441      14 xds_end2end_test_lib.cc:150]          Backend server startup complete
I0610 21:20:02.520972791      14 xds_server.cc:54]                     ADS[0x55e48df07100:Default Balancer]: Updating type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment resource eds_service_name; resource_type_version now 1
I0610 21:20:02.521952211      14 xds_server.cc:54]                     ADS[0x55e48df07100:Default Balancer]: Updating type.googleapis.com/envoy.config.cluster.v3.Cluster resource cluster_name; resource_type_version now 2
I0610 21:20:02.522655711      44 xds_client.cc:1600]                   [xds_client 0x7f6eec003980] creating xds client
I0610 21:20:02.522685771      44 xds_client.cc:1604]                   [xds_client 0x7f6eec003980] xDS node ID: xds_end2end_test
I0610 21:20:02.538286349      44 xds_client.cc:465]                    [xds_client 0x7f6eec003980] creating channel 0x7f6eec173850 for server localhost:30151
I0610 21:20:02.539442798      44 xds_client.cc:724]                    [xds_client 0x7f6eec003980] xds server localhost:30151: start new call from retryable call 0x7f6eec16e6c0
I0610 21:20:02.539536659      44 xds_client.cc:1022]                   [xds_client 0x7f6eec003980] xds server localhost:30151: starting ADS call (ads_call: 0x7f6eec16e860, streaming_call: 0x7f6eec1afe30)
I0610 21:20:02.539615909      44 xds_client.cc:1076]                   [xds_client 0x7f6eec003980] xds server localhost:30151: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:02.546103288      58 xds_server.h:236]                     ADS[0x55e48df07100:Default Balancer]: StreamAggregatedResources starts
I0610 21:20:02.561681886      58 xds_server.h:286]                     ADS[0x55e48df07100:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content node {
  id: "xds_end2end_test"
  cluster: "test"
  metadata {
    fields {
      key: "foo"
      value {
        string_value: "bar"
      }
    }
  }
  locality {
    region: "corp"
    zone: "svl"
    sub_zone: "mp3"
  }
  user_agent_name: "gRPC C-core linux"
  user_agent_version: "C-core 41.0.0"
  client_features: "envoy.lb.does_not_support_overprovisioning"
  client_features: "xds.config.resource-in-sotw"
}
resource_names: "server.example.com"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:02.561734086      58 xds_server.cc:104]                    ADS[0x55e48df07100:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name server.example.com state 0x7f6ee77fc6d8
I0610 21:20:02.561746026      58 xds_server.h:429]                     ADS[0x55e48df07100:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=server.example.com
I0610 21:20:02.569047055      58 xds_server.h:297]                     ADS[0x55e48df07100:Default Balancer]: Sending response: version_info: "1"
resources {
  [type.googleapis.com/envoy.config.listener.v3.Listener] {
    name: "server.example.com"
    api_listener {
      api_listener {
        [type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager] {
          route_config {
            name: "route_config_name"
            virtual_hosts {
              domains: "*"
              routes {
                match {
                  prefix: ""
                }
                route {
                  cluster: "cluster_name"
                }
              }
            }
          }
          http_filters {
            name: "router"
            typed_config {
              [type.googleapis.com/envoy.extensions.filters.http.router.v3.Router] {
              }
            }
          }
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "1"

I0610 21:20:02.569984785      45 xds_client.cc:802]                    [xds_client 0x7f6eec003980] xds server localhost:30151: received ADS response: type_url=envoy.config.listener.v3.Listener, version=1, nonce=1, num_resources=1
I0610 21:20:02.570162095      45 xds_listener.cc:1133]                 [xds_client 0x7f6eec003980] parsed Listener server.example.com: {http_connection_manager={route_config=vhost={
  domains=[*]
  routes=[
    {
PathMatcher{StringMatcher{prefix=}}
route={Cluster name: cluster_name}
    }
  ]
  typed_per_filter_config={
  }
}
cluster_specifier_plugins={
}, http_max_stream_duration=0ms, http_filters=[{name=router, config={config_proto_type_name=envoy.extensions.filters.http.router.v3.Router config=null}}]}}
I0610 21:20:02.570339785      45 xds_client.cc:1076]                   [xds_client 0x7f6eec003980] xds server localhost:30151: sending ADS request: type=envoy.config.listener.v3.Listener version=1 nonce=1 error=OK
I0610 21:20:02.574263394      51 xds_client.cc:1076]                   [xds_client 0x7f6eec003980] xds server localhost:30151: sending ADS request: type=envoy.config.cluster.v3.Cluster version= nonce= error=OK
I0610 21:20:02.579716784      58 xds_server.h:286]                     ADS[0x55e48df07100:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "1"
resource_names: "server.example.com"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "1"

I0610 21:20:02.579761314      58 xds_server.h:385]                     ADS[0x55e48df07100:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=1
I0610 21:20:02.579782384      58 xds_server.h:444]                     ADS[0x55e48df07100:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=server.example.com
I0610 21:20:02.579816594      58 xds_server.h:286]                     ADS[0x55e48df07100:Default Balancer]: Received request for type type.googleapis.com/envoy.config.cluster.v3.Cluster with content resource_names: "cluster_name"
type_url: "type.googleapis.com/envoy.config.cluster.v3.Cluster"

I0610 21:20:02.579839044      58 xds_server.cc:104]                    ADS[0x55e48df07100:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.cluster.v3.Cluster name cluster_name state 0x7f6ee77fc6d8
I0610 21:20:02.579849834      58 xds_server.h:429]                     ADS[0x55e48df07100:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.cluster.v3.Cluster name=cluster_name
I0610 21:20:02.581871964      58 xds_server.h:297]                     ADS[0x55e48df07100:Default Balancer]: Sending response: version_info: "2"
resources {
  [type.googleapis.com/envoy.config.cluster.v3.Cluster] {
    name: "cluster_name"
    type: EDS
    eds_cluster_config {
      eds_config {
        self {
        }
      }
      service_name: "eds_service_name"
    }
    transport_socket {
      name: "envoy.transport_sockets.tls"
      typed_config {
        [type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext] {
          common_tls_context {
            combined_validation_context {
              default_validation_context {
                ca_certificate_provider_instance {
                  instance_name: "fake_plugin1"
                }
              }
            }
          }
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.cluster.v3.Cluster"
nonce: "1"

I0610 21:20:02.582219504      45 xds_client.cc:802]                    [xds_client 0x7f6eec003980] xds server localhost:30151: received ADS response: type_url=envoy.config.cluster.v3.Cluster, version=2, nonce=1, num_resources=1
I0610 21:20:02.582341373      45 xds_cluster.cc:796]                   [xds_client 0x7f6eec003980] parsed Cluster cluster_name: {type=EDS, eds_service_name=eds_service_name, lb_policy_config=[{"xds_wrr_locality_experimental":{"childPolicy":[{"round_robin":{}}]}}], connection_idle_timeout=3600000ms, max_concurrent_requests=1024, override_host_statuses={UNKNOWN, HEALTHY}}
I0610 21:20:02.582418814      45 xds_client.cc:1076]                   [xds_client 0x7f6eec003980] xds server localhost:30151: sending ADS request: type=envoy.config.cluster.v3.Cluster version=2 nonce=1 error=OK
I0610 21:20:02.582649764      45 xds_client.cc:1076]                   [xds_client 0x7f6eec003980] xds server localhost:30151: sending ADS request: type=envoy.config.endpoint.v3.ClusterLoadAssignment version= nonce= error=OK
I0610 21:20:02.584497493      58 xds_server.h:286]                     ADS[0x55e48df07100:Default Balancer]: Received request for type type.googleapis.com/envoy.config.cluster.v3.Cluster with content version_info: "2"
resource_names: "cluster_name"
type_url: "type.googleapis.com/envoy.config.cluster.v3.Cluster"
response_nonce: "1"

I0610 21:20:02.584534233      58 xds_server.h:385]                     ADS[0x55e48df07100:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.cluster.v3.Cluster version=2
I0610 21:20:02.584555843      58 xds_server.h:444]                     ADS[0x55e48df07100:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.cluster.v3.Cluster name=cluster_name
I0610 21:20:02.584742973      58 xds_server.h:286]                     ADS[0x55e48df07100:Default Balancer]: Received request for type type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment with content resource_names: "eds_service_name"
type_url: "type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment"

I0610 21:20:02.584785323      58 xds_server.cc:104]                    ADS[0x55e48df07100:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment name eds_service_name state 0x7f6ee77fc6d8
I0610 21:20:02.584798333      58 xds_server.h:429]                     ADS[0x55e48df07100:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment name=eds_service_name
I0610 21:20:02.585313803      58 xds_server.h:297]                     ADS[0x55e48df07100:Default Balancer]: Sending response: version_info: "1"
resources {
  [type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment] {
    cluster_name: "eds_service_name"
    endpoints {
      locality {
        region: "xds_default_locality_region"
        zone: "xds_default_locality_zone"
        sub_zone: "locality0"
      }
      lb_endpoints {
        endpoint {
          address {
            socket_address {
              address: "127.0.0.1"
              port_value: 8292
            }
          }
        }
        load_balancing_weight {
          value: 1
        }
      }
      load_balancing_weight {
        value: 3
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment"
nonce: "1"

I0610 21:20:02.585682603      45 xds_client.cc:802]                    [xds_client 0x7f6eec003980] xds server localhost:30151: received ADS response: type_url=envoy.config.endpoint.v3.ClusterLoadAssignment, version=1, nonce=1, num_resources=1
I0610 21:20:02.585807583      45 xds_endpoint.cc:508]                  [xds_client 0x7f6eec003980] parsed ClusterLoadAssignment eds_service_name: priorities=[priority 0: [{name={region="xds_default_locality_region", zone="xds_default_locality_zone", sub_zone="locality0"}, lb_weight=3, endpoints=[addrs=[127.0.0.1:8292] args={grpc.internal.no_subchannel.address.weight=1, grpc.internal.no_subchannel.xds_health_status=0}]}]], drop_config=<null>
I0610 21:20:02.586425813      45 xds_client.cc:1076]                   [xds_client 0x7f6eec003980] xds server localhost:30151: sending ADS request: type=envoy.config.endpoint.v3.ClusterLoadAssignment version=1 nonce=1 error=OK
E0610 21:20:02.590018113      55 ssl_transport_security.cc:2118]       No match found for server name: server.example.com.
I0610 21:20:02.596681672      58 xds_server.h:286]                     ADS[0x55e48df07100:Default Balancer]: Received request for type type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment with content version_info: "1"
resource_names: "eds_service_name"
type_url: "type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment"
response_nonce: "1"

I0610 21:20:02.596723632      58 xds_server.h:385]                     ADS[0x55e48df07100:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment version=1
I0610 21:20:02.596744092      58 xds_server.h:444]                     ADS[0x55e48df07100:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment name=eds_service_name
I0610 21:20:02.598629032      14 xds_end2end_test_lib.cc:155]          Backend about to shutdown
I0610 21:20:02.601820001      52 subchannel.cc:745]                    subchannel 0x7f6ed8013cd0 {address=ipv4:127.0.0.1:8292, args={grpc.TEST_ONLY_DO_NOT_USE_IN_PROD.xds_bootstrap_config={      "xds_servers": [
        {
          "server_uri": "localhost:30151",
          "channel_creds": [
            {
              "type": "fake"
            }
          ],
          "server_features": []
        }
      ],
  "node": {
    "id": "xds_end2end_test",
    "cluster": "test",
    "metadata": {
      "foo": "bar"
    },
    "locality": {
      "region": "corp",
      "zone": "svl",
      "sub_zone": "mp3"
    }
  },
  "server_listener_resource_name_template": "grpc/server?xds.resource.listening_address=%s",
  "certificate_providers": {
    "fake_plugin1": {
      "plugin_name": "fake1"
    },
    "fake_plugin2": {
      "plugin_name": "fake2"
    },
    "file_plugin": {
      "plugin_name": "file_watcher",
      "config": {
        "certificate_file": "src/core/tsi/test_creds/client.pem",
        "private_key_file": "src/core/tsi/test_creds/client.key",
        "ca_certificate_file": "src/core/tsi/test_creds/ca.pem"
      }
    }  
},
"authorities": {

}}, grpc.client_channel_factory=0x55e48df0b5c0, grpc.default_authority=server.example.com, grpc.enable_retries=1, grpc.http2_scheme=https, grpc.internal.channel_credentials=0x55e48dede4d0, grpc.internal.event_engine=0x7f6ed8011bd0, grpc.internal.security_connector=0x7f6ed8011d00, grpc.internal.subchannel_pool=0x55e48df0b620, grpc.internal.xds_certificate_provider=0x7f6ed80097a0, grpc.internal.xds_cluster_name=cluster_name, grpc.primary_user_agent=grpc-c++/1.64.1, grpc.resource_quota=0x55e48ded8fd0, grpc.server_uri=xds:server.example.com, grpc.ssl_target_name_override=server.example.com, grpc.xds_client_channel_args=0x7f6ed8011bf0}}: connect failed (UNKNOWN:Failed to connect to remote host: Connection refused {grpc_status:2, created_time:"2024-06-10T21:20:02.601647991+00:00", file_line:150, file:"src/core/lib/transport/error_utils.cc"}), backing off for 999 ms
I0610 21:20:02.602844411      14 xds_end2end_test_lib.cc:159]          Backend shutdown completed
I0610 21:20:02.602868801      14 xds_end2end_test_lib.cc:155]          Backend about to shutdown
I0610 21:20:02.604333311      14 xds_end2end_test_lib.cc:159]          Backend shutdown completed
I0610 21:20:02.604357551      14 xds_end2end_test_lib.cc:155]          Balancer about to shutdown
I0610 21:20:02.604376431      14 xds_server.cc:155]                    ADS[0x55e48df07100:Default Balancer]: shut down
I0610 21:20:02.604387051      14 xds_server.cc:236]                    LRS[0x55e48df07310:Default Balancer]: shut down
I0610 21:20:02.605677701      65 xds_server.h:513]                     ADS[0x55e48df07100:Default Balancer]: Null read, stream closed
I0610 21:20:02.606187441      42 xds_client.cc:1266]                   [xds_client 0x7f6eec003980] xds server localhost:30151: ADS call status received (xds_channel=0x7f6eec173850, ads_call=0x7f6eec16e860, streaming_call=0x7f6eec1afe30): UNAVAILABLE: Cancelling all calls
I0610 21:20:02.606242011      42 xds_client.cc:741]                    [xds_client 0x7f6eec003980] xds server localhost:30151: call attempt failed; retry timer will fire in 1000ms.
I0610 21:20:02.606966621      58 xds_server.h:353]                     ADS[0x55e48df07100:Default Balancer]: StreamAggregatedResources done
I0610 21:20:02.607951811      14 xds_end2end_test_lib.cc:159]          Balancer shutdown completed
[       OK ] XdsTest/XdsSecurityTest.TestTlsConfigurationInCombinedValidationContext/V3XdsCreds (134 ms)
[----------] 1 test from XdsTest/XdsSecurityTest (134 ms total)

[----------] 1 test from XdsTest/XdsServerSecurityTest
[ RUN      ] XdsTest/XdsServerSecurityTest.TestMtlsToTls/V3XdsCredsBootstrapFromEnvVar
I0610 21:20:02.608819410      42 xds_client.cc:494]                    [xds_client 0x7f6eec003980] orphaning xds channel 0x7f6eec173850 for server localhost:30151
I0610 21:20:02.609074430      45 xds_client.cc:482]                    [xds_client 0x7f6eec003980] destroying xds channel 0x7f6eec173850 for server localhost:30151
I0610 21:20:02.609132720      42 xds_client.cc:1617]                   [xds_client 0x7f6eec003980] shutting down xds client
I0610 21:20:02.609159800      42 xds_client.cc:1611]                   [xds_client 0x7f6eec003980] destroying xds client
I0610 21:20:02.612588810      14 xds_end2end_test_lib.cc:138]          starting Balancer server on port 11993
I0610 21:20:02.612752680      67 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:02.613642450      14 xds_end2end_test_lib.cc:150]          Balancer server startup complete
I0610 21:20:02.613751680      14 xds_server.cc:54]                     ADS[0x55e48df07100:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource server.example.com; resource_type_version now 1
I0610 21:20:02.613792550      14 xds_server.cc:54]                     ADS[0x55e48df07100:Default Balancer]: Updating type.googleapis.com/envoy.config.cluster.v3.Cluster resource cluster_name; resource_type_version now 1
I0610 21:20:02.618194169      14 xds_server.cc:54]                     ADS[0x55e48df07100:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:1876; resource_type_version now 2
I0610 21:20:02.618730789      14 xds_server.cc:54]                     ADS[0x55e48df07100:Default Balancer]: Updating type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment resource eds_service_name; resource_type_version now 1
I0610 21:20:02.618839119      14 xds_server.cc:54]                     ADS[0x55e48df07100:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:1876; resource_type_version now 3
I0610 21:20:02.618873669      14 xds_end2end_test_lib.cc:138]          starting Backend server on port 1876
I0610 21:20:02.619089109      69 xds_client_grpc.cc:210]               Got bootstrap contents from GRPC_XDS_BOOTSTRAP_CONFIG environment variable
I0610 21:20:02.619126449      69 xds_client_grpc.cc:260]               xDS bootstrap contents: {      "xds_servers": [
        {
          "server_uri": "localhost:11993",
          "channel_creds": [
            {
              "type": "fake"
            }
          ],
          "server_features": []
        }
      ],
  "node": {
    "id": "xds_end2end_test",
    "cluster": "test",
    "metadata": {
      "foo": "bar"
    },
    "locality": {
      "region": "corp",
      "zone": "svl",
      "sub_zone": "mp3"
    }
  },
  "server_listener_resource_name_template": "grpc/server?xds.resource.listening_address=%s",
  "certificate_providers": {
    "fake_plugin1": {
      "plugin_name": "fake1"
    },
    "fake_plugin2": {
      "plugin_name": "fake2"
    },
    "file_plugin": {
      "plugin_name": "file_watcher",
      "config": {
        "certificate_file": "src/core/tsi/test_creds/client.pem",
        "private_key_file": "src/core/tsi/test_creds/client.key",
        "ca_certificate_file": "src/core/tsi/test_creds/ca.pem"
      }
    }  
},
"authorities": {

}}
I0610 21:20:02.619422029      69 xds_client.cc:1600]                   [xds_client 0x7f6f18007690] creating xds client
I0610 21:20:02.619440179      69 xds_client.cc:1604]                   [xds_client 0x7f6f18007690] xDS node ID: xds_end2end_test
I0610 21:20:02.619477419      69 xds_client_grpc.cc:273]               [xds_client 0x7f6f18007690] Created xDS client for key #server
I0610 21:20:02.619511469      69 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:02.636542197      69 xds_client.cc:465]                    [xds_client 0x7f6f18007690] creating channel 0x7f6f1801ab70 for server localhost:11993
I0610 21:20:02.636868997      69 xds_client.cc:724]                    [xds_client 0x7f6f18007690] xds server localhost:11993: start new call from retryable call 0x7f6f18176820
I0610 21:20:02.636931027      69 xds_client.cc:1022]                   [xds_client 0x7f6f18007690] xds server localhost:11993: starting ADS call (ads_call: 0x7f6f181769c0, streaming_call: 0x7f6f181b7f90)
I0610 21:20:02.636988997      69 xds_client.cc:1076]                   [xds_client 0x7f6f18007690] xds server localhost:11993: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:02.637212487      14 xds_end2end_test_lib.cc:150]          Backend server startup complete
I0610 21:20:02.637238287      14 xds_end2end_test.cc:1054]             Sending RPC
I0610 21:20:02.644420476      50 xds_client.cc:1076]                   [xds_client 0x7f6f18007690] xds server localhost:11993: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:02.645426396      68 xds_server.h:236]                     ADS[0x55e48df07100:Default Balancer]: StreamAggregatedResources starts
I0610 21:20:02.645776156      53 subchannel.cc:745]                    subchannel 0x7f6f10006c10 {address=ipv4:127.0.0.1:1876, args={grpc.client_channel_factory=0x55e48df0b5c0, grpc.default_authority=127.0.0.1, grpc.http2_scheme=https, grpc.internal.channel_credentials=0x55e48df243c0, grpc.internal.event_engine=0x7f6f10002160, grpc.internal.security_connector=0x7f6f10005310, grpc.internal.subchannel_pool=0x55e48df17a20, grpc.primary_user_agent=grpc-c++/1.64.1, grpc.resource_quota=0x55e48ded8fd0, grpc.server_uri=ipv4:127.0.0.1:1876, grpc.ssl_target_name_override=127.0.0.1, grpc.use_local_subchannel_pool=1}}: connect failed (UNKNOWN:Failed to connect to remote host: Connection refused {grpc_status:2, created_time:"2024-06-10T21:20:02.645618906+00:00", file_line:150, file:"src/core/lib/transport/error_utils.cc"}), backing off for 998 ms
I0610 21:20:02.656404575      68 xds_server.h:286]                     ADS[0x55e48df07100:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content node {
  id: "xds_end2end_test"
  cluster: "test"
  metadata {
    fields {
      key: "foo"
      value {
        string_value: "bar"
      }
    }
  }
  locality {
    region: "corp"
    zone: "svl"
    sub_zone: "mp3"
  }
  user_agent_name: "gRPC C-core linux"
  user_agent_version: "C-core 41.0.0"
  client_features: "envoy.lb.does_not_support_overprovisioning"
  client_features: "xds.config.resource-in-sotw"
}
resource_names: "grpc/server?xds.resource.listening_address=[::1]:1876"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:02.656453415      68 xds_server.cc:104]                    ADS[0x55e48df07100:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name grpc/server?xds.resource.listening_address=[::1]:1876 state 0x7f6f237fc6d8
I0610 21:20:02.656466435      68 xds_server.h:429]                     ADS[0x55e48df07100:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:1876
I0610 21:20:02.656504575      68 xds_server.h:297]                     ADS[0x55e48df07100:Default Balancer]: Sending response: version_info: "3"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "1"

I0610 21:20:02.656950794      47 xds_client.cc:802]                    [xds_client 0x7f6f18007690] xds server localhost:11993: received ADS response: type_url=envoy.config.listener.v3.Listener, version=3, nonce=1, num_resources=0
I0610 21:20:02.656996195      47 xds_client.cc:1076]                   [xds_client 0x7f6f18007690] xds server localhost:11993: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=1 error=OK
I0610 21:20:02.657733944      68 xds_server.h:286]                     ADS[0x55e48df07100:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:1876"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:1876"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:02.657769074      68 xds_server.cc:104]                    ADS[0x55e48df07100:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name grpc/server?xds.resource.listening_address=127.0.0.1:1876 state 0x7f6f237fc6d8
I0610 21:20:02.657784845      68 xds_server.h:429]                     ADS[0x55e48df07100:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:1876
I0610 21:20:02.657803145      68 xds_server.h:444]                     ADS[0x55e48df07100:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:1876
I0610 21:20:02.659811004      68 xds_server.h:297]                     ADS[0x55e48df07100:Default Balancer]: Sending response: version_info: "3"
resources {
  [type.googleapis.com/envoy.config.listener.v3.Listener] {
    name: "grpc/server?xds.resource.listening_address=127.0.0.1:1876"
    address {
      socket_address {
        address: "127.0.0.1"
        port_value: 1876
      }
    }
    default_filter_chain {
      filters {
        typed_config {
          [type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager] {
            route_config {
              name: "default_server_route_config_name"
              virtual_hosts {
                domains: "*"
                routes {
                  match {
                    prefix: ""
                  }
                  non_forwarding_action {
                  }
                }
              }
            }
            http_filters {
              name: "router"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.router.v3.Router] {
                }
              }
            }
          }
        }
      }
      transport_socket {
        name: "envoy.transport_sockets.tls"
        typed_config {
          [type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext] {
            common_tls_context {
              validation_context {
                ca_certificate_provider_instance {
                  instance_name: "fake_plugin1"
                }
              }
              tls_certificate_provider_instance {
                instance_name: "fake_plugin1"
              }
            }
            require_client_certificate {
              value: true
            }
          }
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "2"

I0610 21:20:02.660048614      68 xds_server.h:286]                     ADS[0x55e48df07100:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "3"
resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:1876"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:1876"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "1"

I0610 21:20:02.660075174      68 xds_server.h:385]                     ADS[0x55e48df07100:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=3
I0610 21:20:02.660515064      51 xds_client.cc:802]                    [xds_client 0x7f6f18007690] xds server localhost:11993: received ADS response: type_url=envoy.config.listener.v3.Listener, version=3, nonce=2, num_resources=1
I0610 21:20:02.660729784      51 xds_listener.cc:1133]                 [xds_client 0x7f6f18007690] parsed Listener grpc/server?xds.resource.listening_address=127.0.0.1:1876: {tcp_listener={address=127.0.0.1:1876, filter_chain_map={}, default_filter_chain={downstream_tls_context=common_tls_context={tls_certificate_provider_instance={instance_name=fake_plugin1}}, require_client_certificate=true http_connection_manager={route_config=vhost={
  domains=[*]
  routes=[
    {
PathMatcher{StringMatcher{prefix=}}
non_forwarding_action={}
    }
  ]
  typed_per_filter_config={
  }
}
cluster_specifier_plugins={
}, http_max_stream_duration=0ms, http_filters=[{name=router, config={config_proto_type_name=envoy.extensions.filters.http.router.v3.Router config=null}}]}}}}
I0610 21:20:02.660817324      51 xds_client.cc:1076]                   [xds_client 0x7f6f18007690] xds server localhost:11993: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=2 error=OK
I0610 21:20:02.670522723      68 xds_server.h:286]                     ADS[0x55e48df07100:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "3"
resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:1876"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:1876"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "2"

I0610 21:20:02.670564863      68 xds_server.h:385]                     ADS[0x55e48df07100:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=3
I0610 21:20:02.670590203      68 xds_server.h:444]                     ADS[0x55e48df07100:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:1876
I0610 21:20:02.670603533      68 xds_server.h:444]                     ADS[0x55e48df07100:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:1876
I0610 21:20:03.644698536      50 subchannel.cc:700]                    subchannel 0x7f6f10006c10 {address=ipv4:127.0.0.1:1876, args={grpc.client_channel_factory=0x55e48df0b5c0, grpc.default_authority=127.0.0.1, grpc.http2_scheme=https, grpc.internal.channel_credentials=0x55e48df243c0, grpc.internal.event_engine=0x7f6f10002160, grpc.internal.security_connector=0x7f6f10005310, grpc.internal.subchannel_pool=0x55e48df17a20, grpc.primary_user_agent=grpc-c++/1.64.1, grpc.resource_quota=0x55e48ded8fd0, grpc.server_uri=ipv4:127.0.0.1:1876, grpc.ssl_target_name_override=127.0.0.1, grpc.use_local_subchannel_pool=1}}: backoff delay elapsed, reporting IDLE
E0610 21:20:03.650700786      52 ssl_transport_security.cc:1654]       Handshake failed with fatal error SSL_ERROR_SSL: error:100000c0:SSL routines:OPENSSL_internal:PEER_DID_NOT_RETURN_A_CERTIFICATE.
I0610 21:20:03.651584625      48 subchannel.cc:745]                    subchannel 0x7f6f10006c10 {address=ipv4:127.0.0.1:1876, args={grpc.client_channel_factory=0x55e48df0b5c0, grpc.default_authority=127.0.0.1, grpc.http2_scheme=https, grpc.internal.channel_credentials=0x55e48df243c0, grpc.internal.event_engine=0x7f6f10002160, grpc.internal.security_connector=0x7f6f10005310, grpc.internal.subchannel_pool=0x55e48df17a20, grpc.primary_user_agent=grpc-c++/1.64.1, grpc.resource_quota=0x55e48ded8fd0, grpc.server_uri=ipv4:127.0.0.1:1876, grpc.ssl_target_name_override=127.0.0.1, grpc.use_local_subchannel_pool=1}}: connect failed (UNKNOWN:Secure read failed {created_time:"2024-06-10T21:20:03.651322606+00:00", file_line:265, file:"src/core/handshaker/security/secure_endpoint.cc", children:[INTERNAL:Socket closed {grpc_status:14, fd:12, target_address:"127.0.0.1:1876"}]}), backing off for 1287 ms
I0610 21:20:04.640738806      14 xds_server.cc:54]                     ADS[0x55e48df07100:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:1876; resource_type_version now 4
I0610 21:20:04.640801047      14 xds_end2end_test.cc:1054]             Sending RPC
I0610 21:20:04.649258295      68 xds_server.h:470]                     ADS[0x55e48df07100:Default Balancer]: Received update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:1876
I0610 21:20:04.649298275      68 xds_server.h:480]                     ADS[0x55e48df07100:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:1876
E0610 21:20:04.650506235      50 ssl_transport_security.cc:1654]       Handshake failed with fatal error SSL_ERROR_SSL: error:100000c0:SSL routines:OPENSSL_internal:PEER_DID_NOT_RETURN_A_CERTIFICATE.
I0610 21:20:04.650508715      68 xds_server.h:318]                     ADS[0x55e48df07100:Default Balancer]: Sending update response: version_info: "4"
resources {
  [type.googleapis.com/envoy.config.listener.v3.Listener] {
    name: "grpc/server?xds.resource.listening_address=127.0.0.1:1876"
    address {
      socket_address {
        address: "127.0.0.1"
        port_value: 1876
      }
    }
    default_filter_chain {
      filters {
        typed_config {
          [type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager] {
            route_config {
              name: "default_server_route_config_name"
              virtual_hosts {
                domains: "*"
                routes {
                  match {
                    prefix: ""
                  }
                  non_forwarding_action {
                  }
                }
              }
            }
            http_filters {
              name: "router"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.router.v3.Router] {
                }
              }
            }
          }
        }
      }
      transport_socket {
        name: "envoy.transport_sockets.tls"
        typed_config {
          [type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext] {
            common_tls_context {
              tls_certificate_provider_instance {
                instance_name: "fake_plugin1"
              }
            }
          }
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "3"

I0610 21:20:04.650932585      46 xds_client.cc:802]                    [xds_client 0x7f6f18007690] xds server localhost:11993: received ADS response: type_url=envoy.config.listener.v3.Listener, version=4, nonce=3, num_resources=1
I0610 21:20:04.651253825      46 xds_listener.cc:1133]                 [xds_client 0x7f6f18007690] parsed Listener grpc/server?xds.resource.listening_address=127.0.0.1:1876: {tcp_listener={address=127.0.0.1:1876, filter_chain_map={}, default_filter_chain={downstream_tls_context=common_tls_context={tls_certificate_provider_instance={instance_name=fake_plugin1}}, require_client_certificate=false http_connection_manager={route_config=vhost={
  domains=[*]
  routes=[
    {
PathMatcher{StringMatcher{prefix=}}
non_forwarding_action={}
    }
  ]
  typed_per_filter_config={
  }
}
cluster_specifier_plugins={
}, http_max_stream_duration=0ms, http_filters=[{name=router, config={config_proto_type_name=envoy.extensions.filters.http.router.v3.Router config=null}}]}}}}
I0610 21:20:04.651362755      46 xds_client.cc:1076]                   [xds_client 0x7f6f18007690] xds server localhost:11993: sending ADS request: type=envoy.config.listener.v3.Listener version=4 nonce=3 error=OK
I0610 21:20:04.651499235      53 subchannel.cc:745]                    subchannel 0x7f6f1c004730 {address=ipv4:127.0.0.1:1876, args={grpc.client_channel_factory=0x55e48df0b5c0, grpc.default_authority=127.0.0.1, grpc.http2_scheme=https, grpc.internal.channel_credentials=0x55e48df245e0, grpc.internal.event_engine=0x7f6f1c001f10, grpc.internal.security_connector=0x7f6f1c0015e0, grpc.internal.subchannel_pool=0x55e48df0b830, grpc.primary_user_agent=grpc-c++/1.64.1, grpc.resource_quota=0x55e48ded8fd0, grpc.server_uri=ipv4:127.0.0.1:1876, grpc.ssl_target_name_override=127.0.0.1, grpc.use_local_subchannel_pool=1}}: connect failed (UNKNOWN:Secure read failed {file:"src/core/handshaker/security/secure_endpoint.cc", file_line:265, created_time:"2024-06-10T21:20:04.651262965+00:00", children:[INTERNAL:Socket closed {grpc_status:14, fd:12, target_address:"127.0.0.1:1876"}]}), backing off for 990 ms
I0610 21:20:04.660888494      68 xds_server.h:286]                     ADS[0x55e48df07100:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "4"
resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:1876"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:1876"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "3"

I0610 21:20:04.660921234      68 xds_server.h:385]                     ADS[0x55e48df07100:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=4
I0610 21:20:04.660946814      68 xds_server.h:444]                     ADS[0x55e48df07100:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:1876
I0610 21:20:04.660957504      68 xds_server.h:444]                     ADS[0x55e48df07100:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:1876
I0610 21:20:05.642570256      47 subchannel.cc:700]                    subchannel 0x7f6f1c004730 {address=ipv4:127.0.0.1:1876, args={grpc.client_channel_factory=0x55e48df0b5c0, grpc.default_authority=127.0.0.1, grpc.http2_scheme=https, grpc.internal.channel_credentials=0x55e48df245e0, grpc.internal.event_engine=0x7f6f1c001f10, grpc.internal.security_connector=0x7f6f1c0015e0, grpc.internal.subchannel_pool=0x55e48df0b830, grpc.primary_user_agent=grpc-c++/1.64.1, grpc.resource_quota=0x55e48ded8fd0, grpc.server_uri=ipv4:127.0.0.1:1876, grpc.ssl_target_name_override=127.0.0.1, grpc.use_local_subchannel_pool=1}}: backoff delay elapsed, reporting IDLE
I0610 21:20:05.651192165      14 xds_end2end_test_lib.cc:155]          Backend about to shutdown
I0610 21:20:05.651467435      14 xds_client.cc:1076]                   [xds_client 0x7f6f18007690] xds server localhost:11993: sending ADS request: type=envoy.config.listener.v3.Listener version=4 nonce=3 error=OK
I0610 21:20:05.651619345      14 xds_client.cc:494]                    [xds_client 0x7f6f18007690] orphaning xds channel 0x7f6f1801ab70 for server localhost:11993
I0610 21:20:05.652170495      14 xds_client.cc:1266]                   [xds_client 0x7f6f18007690] xds server localhost:11993: ADS call status received (xds_channel=0x7f6f1801ab70, ads_call=0x7f6f181769c0, streaming_call=(nil)): CANCELLED: CANCELLED
I0610 21:20:05.652252975      14 xds_client.cc:482]                    [xds_client 0x7f6f18007690] destroying xds channel 0x7f6f1801ab70 for server localhost:11993
I0610 21:20:05.652669805      72 xds_server.h:513]                     ADS[0x55e48df07100:Default Balancer]: Null read, stream closed
I0610 21:20:05.652898975      14 xds_end2end_test_lib.cc:159]          Backend shutdown completed
I0610 21:20:05.652919215      14 xds_end2end_test_lib.cc:155]          Balancer about to shutdown
I0610 21:20:05.652932165      14 xds_server.cc:155]                    ADS[0x55e48df07100:Default Balancer]: shut down
I0610 21:20:05.652945455      14 xds_server.cc:236]                    LRS[0x55e48df07310:Default Balancer]: shut down
I0610 21:20:05.661533804      68 xds_server.h:353]                     ADS[0x55e48df07100:Default Balancer]: StreamAggregatedResources done
I0610 21:20:05.662128094      14 xds_end2end_test_lib.cc:159]          Balancer shutdown completed
I0610 21:20:05.662267024      14 xds_client.cc:1617]                   [xds_client 0x7f6f18007690] shutting down xds client
I0610 21:20:05.662293574      14 xds_client.cc:1611]                   [xds_client 0x7f6f18007690] destroying xds client
[       OK ] XdsTest/XdsServerSecurityTest.TestMtlsToTls/V3XdsCredsBootstrapFromEnvVar (3053 ms)
[----------] 1 test from XdsTest/XdsServerSecurityTest (3053 ms total)

I0610 21:20:05.662742184      44 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
[----------] 5 tests from XdsTest/XdsRbacTestWithActionPermutations
[ RUN      ] XdsTest/XdsRbacTestWithActionPermutations.EmptyRbacPolicy/V3RdsXdsCredsBootstrapFromEnvVarRbacDeny
I0610 21:20:05.665736413      14 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.667935503      14 xds_end2end_test_lib.cc:138]          starting Balancer server on port 10497
I0610 21:20:05.668054683      89 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:05.668111783      92 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:05.669755973      92 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.670441623      14 xds_end2end_test_lib.cc:150]          Balancer server startup complete
I0610 21:20:05.670554193      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.route.v3.RouteConfiguration resource route_config_name; resource_type_version now 1
I0610 21:20:05.670598423      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource server.example.com; resource_type_version now 1
I0610 21:20:05.670618193      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.cluster.v3.Cluster resource cluster_name; resource_type_version now 1
I0610 21:20:05.673309092      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.route.v3.RouteConfiguration resource default_server_route_config_name; resource_type_version now 2
I0610 21:20:05.673363032      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:4908; resource_type_version now 2
I0610 21:20:05.673773732      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment resource eds_service_name; resource_type_version now 1
I0610 21:20:05.674080502      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.route.v3.RouteConfiguration resource default_server_route_config_name; resource_type_version now 3
I0610 21:20:05.674115122      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:4908; resource_type_version now 3
I0610 21:20:05.674145332      14 xds_end2end_test_lib.cc:138]          starting Backend server on port 4908
I0610 21:20:05.674346182     111 xds_client_grpc.cc:210]               Got bootstrap contents from GRPC_XDS_BOOTSTRAP_CONFIG environment variable
I0610 21:20:05.674383012     111 xds_client_grpc.cc:260]               xDS bootstrap contents: {      "xds_servers": [
        {
          "server_uri": "localhost:10497",
          "channel_creds": [
            {
              "type": "fake"
            }
          ],
          "server_features": []
        }
      ],
  "node": {
    "id": "xds_end2end_test",
    "cluster": "test",
    "metadata": {
      "foo": "bar"
    },
    "locality": {
      "region": "corp",
      "zone": "svl",
      "sub_zone": "mp3"
    }
  },
  "server_listener_resource_name_template": "grpc/server?xds.resource.listening_address=%s",
  "certificate_providers": {
    "fake_plugin1": {
      "plugin_name": "fake1"
    },
    "fake_plugin2": {
      "plugin_name": "fake2"
    },
    "file_plugin": {
      "plugin_name": "file_watcher",
      "config": {
        "certificate_file": "src/core/tsi/test_creds/client.pem",
        "private_key_file": "src/core/tsi/test_creds/client.key",
        "ca_certificate_file": "src/core/tsi/test_creds/ca.pem"
      }
    }  
},
"authorities": {

}}
I0610 21:20:05.674684622     111 xds_client.cc:1600]                   [xds_client 0x7f6ef8017670] creating xds client
I0610 21:20:05.674702782     111 xds_client.cc:1604]                   [xds_client 0x7f6ef8017670] xDS node ID: xds_end2end_test
I0610 21:20:05.674723122     111 xds_client_grpc.cc:273]               [xds_client 0x7f6ef8017670] Created xDS client for key #server
I0610 21:20:05.674750942     111 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:05.688469471     111 xds_client.cc:465]                    [xds_client 0x7f6ef8017670] creating channel 0x7f6ef80024f0 for server localhost:10497
I0610 21:20:05.688764010     111 xds_client.cc:724]                    [xds_client 0x7f6ef8017670] xds server localhost:10497: start new call from retryable call 0x7f6ef81a4960
I0610 21:20:05.688826401     111 xds_client.cc:1022]                   [xds_client 0x7f6ef8017670] xds server localhost:10497: starting ADS call (ads_call: 0x7f6ef81a4b00, streaming_call: 0x7f6ef81d0e60)
I0610 21:20:05.688874571     111 xds_client.cc:1076]                   [xds_client 0x7f6ef8017670] xds server localhost:10497: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:05.689101140      14 xds_end2end_test_lib.cc:150]          Backend server startup complete
I0610 21:20:05.691772600     105 xds_client.cc:1076]                   [xds_client 0x7f6ef8017670] xds server localhost:10497: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:05.692099390     110 xds_server.h:236]                     ADS[0x55e48df02ff0:Default Balancer]: StreamAggregatedResources starts
I0610 21:20:05.702398419     110 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content node {
  id: "xds_end2end_test"
  cluster: "test"
  metadata {
    fields {
      key: "foo"
      value {
        string_value: "bar"
      }
    }
  }
  locality {
    region: "corp"
    zone: "svl"
    sub_zone: "mp3"
  }
  user_agent_name: "gRPC C-core linux"
  user_agent_version: "C-core 41.0.0"
  client_features: "envoy.lb.does_not_support_overprovisioning"
  client_features: "xds.config.resource-in-sotw"
}
resource_names: "grpc/server?xds.resource.listening_address=[::1]:4908"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:05.702444699     110 xds_server.cc:104]                    ADS[0x55e48df02ff0:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name grpc/server?xds.resource.listening_address=[::1]:4908 state 0x7f6f227fa6d8
I0610 21:20:05.702459169     110 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:4908
I0610 21:20:05.702497209     110 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "3"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "1"

I0610 21:20:05.702779839     110 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:4908"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:4908"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:05.702805788     110 xds_server.cc:104]                    ADS[0x55e48df02ff0:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name grpc/server?xds.resource.listening_address=127.0.0.1:4908 state 0x7f6f227fa6d8
I0610 21:20:05.702815479     110 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:4908
I0610 21:20:05.702826909     110 xds_server.h:444]                     ADS[0x55e48df02ff0:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:4908
I0610 21:20:05.702978379      97 xds_client.cc:802]                    [xds_client 0x7f6ef8017670] xds server localhost:10497: received ADS response: type_url=envoy.config.listener.v3.Listener, version=3, nonce=1, num_resources=0
I0610 21:20:05.703062369      97 xds_client.cc:1076]                   [xds_client 0x7f6ef8017670] xds server localhost:10497: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=1 error=OK
I0610 21:20:05.703820179     110 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "3"
resources {
  [type.googleapis.com/envoy.config.listener.v3.Listener] {
    name: "grpc/server?xds.resource.listening_address=127.0.0.1:4908"
    address {
      socket_address {
        address: "127.0.0.1"
        port_value: 4908
      }
    }
    default_filter_chain {
      filters {
        typed_config {
          [type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager] {
            rds {
              config_source {
                self {
                }
              }
              route_config_name: "default_server_route_config_name"
            }
            http_filters {
              name: "rbac1"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.rbac.v3.RBAC] {
                  rules {
                    action: DENY
                  }
                }
              }
            }
            http_filters {
              name: "router"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.router.v3.Router] {
                }
              }
            }
          }
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "2"

I0610 21:20:05.704003458     110 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "3"
resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:4908"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:4908"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "1"

I0610 21:20:05.704023149     110 xds_server.h:385]                     ADS[0x55e48df02ff0:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=3
I0610 21:20:05.704139129     107 xds_client.cc:802]                    [xds_client 0x7f6ef8017670] xds server localhost:10497: received ADS response: type_url=envoy.config.listener.v3.Listener, version=3, nonce=2, num_resources=1
I0610 21:20:05.704299428     107 xds_listener.cc:1133]                 [xds_client 0x7f6ef8017670] parsed Listener grpc/server?xds.resource.listening_address=127.0.0.1:4908: {tcp_listener={address=127.0.0.1:4908, filter_chain_map={}, default_filter_chain={downstream_tls_context=common_tls_context={}, require_client_certificate=false http_connection_manager={rds_name=default_server_route_config_name, http_max_stream_duration=0ms, http_filters=[{name=rbac1, config={config_proto_type_name=envoy.extensions.filters.http.rbac.v3.RBAC config={"rules":{"action":1}}}}, {name=router, config={config_proto_type_name=envoy.extensions.filters.http.router.v3.Router config=null}}]}}}}
I0610 21:20:05.704391529     107 xds_client.cc:1076]                   [xds_client 0x7f6ef8017670] xds server localhost:10497: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=2 error=OK
I0610 21:20:05.704726328     107 xds_client.cc:1076]                   [xds_client 0x7f6ef8017670] xds server localhost:10497: sending ADS request: type=envoy.config.route.v3.RouteConfiguration version= nonce= error=OK
I0610 21:20:05.714198277     110 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "3"
resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:4908"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:4908"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "2"

I0610 21:20:05.714227727     110 xds_server.h:385]                     ADS[0x55e48df02ff0:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=3
I0610 21:20:05.714249298     110 xds_server.h:444]                     ADS[0x55e48df02ff0:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:4908
I0610 21:20:05.714259607     110 xds_server.h:444]                     ADS[0x55e48df02ff0:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:4908
I0610 21:20:05.714289437     110 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.route.v3.RouteConfiguration with content resource_names: "default_server_route_config_name"
type_url: "type.googleapis.com/envoy.config.route.v3.RouteConfiguration"

I0610 21:20:05.714305357     110 xds_server.cc:104]                    ADS[0x55e48df02ff0:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.route.v3.RouteConfiguration name default_server_route_config_name state 0x7f6f227fa6d8
I0610 21:20:05.714312877     110 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.route.v3.RouteConfiguration name=default_server_route_config_name
I0610 21:20:05.714683487     110 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "3"
resources {
  [type.googleapis.com/envoy.config.route.v3.RouteConfiguration] {
    name: "default_server_route_config_name"
    virtual_hosts {
      domains: "*"
      routes {
        match {
          prefix: ""
        }
        non_forwarding_action {
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.route.v3.RouteConfiguration"
nonce: "1"

I0610 21:20:05.714979207     107 xds_client.cc:802]                    [xds_client 0x7f6ef8017670] xds server localhost:10497: received ADS response: type_url=envoy.config.route.v3.RouteConfiguration, version=3, nonce=1, num_resources=1
I0610 21:20:05.715100987     107 xds_route_config.cc:1189]             [xds_client 0x7f6ef8017670] parsed RouteConfiguration default_server_route_config_name: vhost={
  domains=[*]
  routes=[
    {
PathMatcher{StringMatcher{prefix=}}
non_forwarding_action={}
    }
  ]
  typed_per_filter_config={
  }
}
cluster_specifier_plugins={
}
I0610 21:20:05.715187837     107 xds_client.cc:1076]                   [xds_client 0x7f6ef8017670] xds server localhost:10497: sending ADS request: type=envoy.config.route.v3.RouteConfiguration version=3 nonce=1 error=OK
I0610 21:20:05.715279957      14 xds_end2end_test.cc:1054]             Sending RPC
I0610 21:20:05.716397307     101 xds_client.cc:1739]                   [xds_client 0x7f6ef8017670] returning cached listener data for default_server_route_config_name
I0610 21:20:05.718821057      14 xds_end2end_test_lib.cc:155]          Backend about to shutdown
I0610 21:20:05.719002037      14 xds_client.cc:1076]                   [xds_client 0x7f6ef8017670] xds server localhost:10497: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=2 error=OK
I0610 21:20:05.719452597      14 xds_client.cc:1076]                   [xds_client 0x7f6ef8017670] xds server localhost:10497: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=2 error=OK
I0610 21:20:05.719992707      14 xds_end2end_test_lib.cc:159]          Backend shutdown completed
I0610 21:20:05.720013637      14 xds_end2end_test_lib.cc:155]          Balancer about to shutdown
I0610 21:20:05.720025407      14 xds_server.cc:155]                    ADS[0x55e48df02ff0:Default Balancer]: shut down
I0610 21:20:05.720035167      14 xds_server.cc:236]                    LRS[0x55e48df07310:Default Balancer]: shut down
I0610 21:20:05.720077637      97 xds_client.cc:494]                    [xds_client 0x7f6ef8017670] orphaning xds channel 0x7f6ef80024f0 for server localhost:10497
I0610 21:20:05.720594057      97 xds_client.cc:1266]                   [xds_client 0x7f6ef8017670] xds server localhost:10497: ADS call status received (xds_channel=0x7f6ef80024f0, ads_call=0x7f6ef81a4b00, streaming_call=(nil)): CANCELLED: CANCELLED
I0610 21:20:05.720619667      97 xds_client.cc:482]                    [xds_client 0x7f6ef8017670] destroying xds channel 0x7f6ef80024f0 for server localhost:10497
I0610 21:20:05.721273597     114 xds_server.h:513]                     ADS[0x55e48df02ff0:Default Balancer]: Null read, stream closed
I0610 21:20:05.724945906     110 xds_server.h:353]                     ADS[0x55e48df02ff0:Default Balancer]: StreamAggregatedResources done
I0610 21:20:05.725518386      14 xds_end2end_test_lib.cc:159]          Balancer shutdown completed
I0610 21:20:05.725627966      14 xds_client.cc:1617]                   [xds_client 0x7f6ef8017670] shutting down xds client
I0610 21:20:05.725646006      14 xds_client.cc:1611]                   [xds_client 0x7f6ef8017670] destroying xds client
[       OK ] XdsTest/XdsRbacTestWithActionPermutations.EmptyRbacPolicy/V3RdsXdsCredsBootstrapFromEnvVarRbacDeny (63 ms)
[ RUN      ] XdsTest/XdsRbacTestWithActionPermutations.UrlPathPermissionAnyPrincipal/V3XdsCredsFilterPerRouteOverrideBootstrapFromEnvVarRbacDeny
I0610 21:20:05.726049906      96 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:05.728085176      14 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.730052466      14 xds_end2end_test_lib.cc:138]          starting Balancer server on port 17756
I0610 21:20:05.730200686     133 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:05.730239125     130 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:05.732677146     133 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.733284005      14 xds_end2end_test_lib.cc:150]          Balancer server startup complete
I0610 21:20:05.733382105      14 xds_server.cc:54]                     ADS[0x55e48df15770:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource server.example.com; resource_type_version now 1
I0610 21:20:05.733409195      14 xds_server.cc:54]                     ADS[0x55e48df15770:Default Balancer]: Updating type.googleapis.com/envoy.config.cluster.v3.Cluster resource cluster_name; resource_type_version now 1
I0610 21:20:05.735972525      14 xds_server.cc:54]                     ADS[0x55e48df15770:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:31149; resource_type_version now 2
I0610 21:20:05.736393475      14 xds_server.cc:54]                     ADS[0x55e48df15770:Default Balancer]: Updating type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment resource eds_service_name; resource_type_version now 1
I0610 21:20:05.736520865      14 xds_server.cc:54]                     ADS[0x55e48df15770:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:31149; resource_type_version now 3
I0610 21:20:05.736551275      14 xds_end2end_test_lib.cc:138]          starting Backend server on port 31149
I0610 21:20:05.736729485     152 xds_client_grpc.cc:210]               Got bootstrap contents from GRPC_XDS_BOOTSTRAP_CONFIG environment variable
I0610 21:20:05.736760795     152 xds_client_grpc.cc:260]               xDS bootstrap contents: {      "xds_servers": [
        {
          "server_uri": "localhost:17756",
          "channel_creds": [
            {
              "type": "fake"
            }
          ],
          "server_features": []
        }
      ],
  "node": {
    "id": "xds_end2end_test",
    "cluster": "test",
    "metadata": {
      "foo": "bar"
    },
    "locality": {
      "region": "corp",
      "zone": "svl",
      "sub_zone": "mp3"
    }
  },
  "server_listener_resource_name_template": "grpc/server?xds.resource.listening_address=%s",
  "certificate_providers": {
    "fake_plugin1": {
      "plugin_name": "fake1"
    },
    "fake_plugin2": {
      "plugin_name": "fake2"
    },
    "file_plugin": {
      "plugin_name": "file_watcher",
      "config": {
        "certificate_file": "src/core/tsi/test_creds/client.pem",
        "private_key_file": "src/core/tsi/test_creds/client.key",
        "ca_certificate_file": "src/core/tsi/test_creds/ca.pem"
      }
    }  
},
"authorities": {

}}
I0610 21:20:05.737085385     152 xds_client.cc:1600]                   [xds_client 0x7f6ed400e170] creating xds client
I0610 21:20:05.737105065     152 xds_client.cc:1604]                   [xds_client 0x7f6ed400e170] xDS node ID: xds_end2end_test
I0610 21:20:05.737127745     152 xds_client_grpc.cc:273]               [xds_client 0x7f6ed400e170] Created xDS client for key #server
I0610 21:20:05.737159965     152 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:05.749915823     152 xds_client.cc:465]                    [xds_client 0x7f6ed400e170] creating channel 0x7f6ed4021650 for server localhost:17756
I0610 21:20:05.750181423     152 xds_client.cc:724]                    [xds_client 0x7f6ed400e170] xds server localhost:17756: start new call from retryable call 0x7f6ed417d300
I0610 21:20:05.750252153     152 xds_client.cc:1022]                   [xds_client 0x7f6ed400e170] xds server localhost:17756: starting ADS call (ads_call: 0x7f6ed417d4a0, streaming_call: 0x7f6ed41bea70)
I0610 21:20:05.750303183     152 xds_client.cc:1076]                   [xds_client 0x7f6ed400e170] xds server localhost:17756: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:05.750523223      14 xds_end2end_test_lib.cc:150]          Backend server startup complete
I0610 21:20:05.753192863     144 xds_client.cc:1076]                   [xds_client 0x7f6ed400e170] xds server localhost:17756: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:05.753844013     151 xds_server.h:236]                     ADS[0x55e48df15770:Default Balancer]: StreamAggregatedResources starts
I0610 21:20:05.764171932     151 xds_server.h:286]                     ADS[0x55e48df15770:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content node {
  id: "xds_end2end_test"
  cluster: "test"
  metadata {
    fields {
      key: "foo"
      value {
        string_value: "bar"
      }
    }
  }
  locality {
    region: "corp"
    zone: "svl"
    sub_zone: "mp3"
  }
  user_agent_name: "gRPC C-core linux"
  user_agent_version: "C-core 41.0.0"
  client_features: "envoy.lb.does_not_support_overprovisioning"
  client_features: "xds.config.resource-in-sotw"
}
resource_names: "grpc/server?xds.resource.listening_address=[::1]:31149"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:05.764223911     151 xds_server.cc:104]                    ADS[0x55e48df15770:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name grpc/server?xds.resource.listening_address=[::1]:31149 state 0x7f6f227fa6d8
I0610 21:20:05.764240231     151 xds_server.h:429]                     ADS[0x55e48df15770:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:31149
I0610 21:20:05.764287502     151 xds_server.h:297]                     ADS[0x55e48df15770:Default Balancer]: Sending response: version_info: "3"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "1"

I0610 21:20:05.764539731     151 xds_server.h:286]                     ADS[0x55e48df15770:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:31149"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:31149"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:05.764595041     151 xds_server.cc:104]                    ADS[0x55e48df15770:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name grpc/server?xds.resource.listening_address=127.0.0.1:31149 state 0x7f6f227fa6d8
I0610 21:20:05.764609561     151 xds_server.h:429]                     ADS[0x55e48df15770:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:31149
I0610 21:20:05.764625741     151 xds_server.h:444]                     ADS[0x55e48df15770:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:31149
I0610 21:20:05.764742271     140 xds_client.cc:802]                    [xds_client 0x7f6ed400e170] xds server localhost:17756: received ADS response: type_url=envoy.config.listener.v3.Listener, version=3, nonce=1, num_resources=0
I0610 21:20:05.764784881     140 xds_client.cc:1076]                   [xds_client 0x7f6ed400e170] xds server localhost:17756: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=1 error=OK
I0610 21:20:05.766435842     151 xds_server.h:297]                     ADS[0x55e48df15770:Default Balancer]: Sending response: version_info: "3"
resources {
  [type.googleapis.com/envoy.config.listener.v3.Listener] {
    name: "grpc/server?xds.resource.listening_address=127.0.0.1:31149"
    address {
      socket_address {
        address: "127.0.0.1"
        port_value: 31149
      }
    }
    default_filter_chain {
      filters {
        typed_config {
          [type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager] {
            route_config {
              name: "default_server_route_config_name"
              virtual_hosts {
                domains: "*"
                routes {
                  match {
                    prefix: ""
                  }
                  typed_per_filter_config {
                    key: "rbac1"
                    value {
                      [type.googleapis.com/envoy.extensions.filters.http.rbac.v3.RBACPerRoute] {
                        rbac {
                          rules {
                            action: DENY
                            policies {
                              key: "policy"
                              value {
                                permissions {
                                  url_path {
                                    path {
                                      exact: "/grpc.testing.EchoTestService/Echo"
                                    }
                                  }
                                }
                                principals {
                                  any: true
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                  non_forwarding_action {
                  }
                }
              }
            }
            http_filters {
              name: "rbac1"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.rbac.v3.RBAC] {
                }
              }
            }
            http_filters {
              name: "router"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.router.v3.Router] {
                }
              }
            }
          }
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "2"

I0610 21:20:05.766637211     151 xds_server.h:286]                     ADS[0x55e48df15770:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "3"
resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:31149"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:31149"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "1"

I0610 21:20:05.766666191     151 xds_server.h:385]                     ADS[0x55e48df15770:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=3
I0610 21:20:05.766736901     147 xds_client.cc:802]                    [xds_client 0x7f6ed400e170] xds server localhost:17756: received ADS response: type_url=envoy.config.listener.v3.Listener, version=3, nonce=2, num_resources=1
I0610 21:20:05.766934971     147 xds_listener.cc:1133]                 [xds_client 0x7f6ed400e170] parsed Listener grpc/server?xds.resource.listening_address=127.0.0.1:31149: {tcp_listener={address=127.0.0.1:31149, filter_chain_map={}, default_filter_chain={downstream_tls_context=common_tls_context={}, require_client_certificate=false http_connection_manager={route_config=vhost={
  domains=[*]
  routes=[
    {
PathMatcher{StringMatcher{prefix=}}
non_forwarding_action={}
typed_per_filter_config={
  rbac1={config_proto_type_name=envoy.extensions.filters.http.rbac.v3.RBACPerRoute config={"rules":{"action":1,"policies":{"policy":{"permissions":[{"urlPath":{"path":{"exact":"/grpc.testing.EchoTestService/Echo","ignoreCase":false}}}],"principals":[{"any":true}]}}}}}
}
    }
  ]
  typed_per_filter_config={
  }
}
cluster_specifier_plugins={
}, http_max_stream_duration=0ms, http_filters=[{name=rbac1, config={config_proto_type_name=envoy.extensions.filters.http.rbac.v3.RBAC config={}}}, {name=router, config={config_proto_type_name=envoy.extensions.filters.http.router.v3.Router config=null}}]}}}}
I0610 21:20:05.767059771     147 xds_client.cc:1076]                   [xds_client 0x7f6ed400e170] xds server localhost:17756: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=2 error=OK
I0610 21:20:05.767143561      14 xds_end2end_test.cc:1054]             Sending RPC
I0610 21:20:05.774312930      14 xds_end2end_test_lib.cc:155]          Backend about to shutdown
I0610 21:20:05.774533870      14 xds_client.cc:1076]                   [xds_client 0x7f6ed400e170] xds server localhost:17756: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=2 error=OK
I0610 21:20:05.774669930      14 xds_client.cc:494]                    [xds_client 0x7f6ed400e170] orphaning xds channel 0x7f6ed4021650 for server localhost:17756
I0610 21:20:05.775249490      14 xds_client.cc:1266]                   [xds_client 0x7f6ed400e170] xds server localhost:17756: ADS call status received (xds_channel=0x7f6ed4021650, ads_call=0x7f6ed417d4a0, streaming_call=(nil)): CANCELLED: CANCELLED
I0610 21:20:05.775340120      14 xds_client.cc:482]                    [xds_client 0x7f6ed400e170] destroying xds channel 0x7f6ed4021650 for server localhost:17756
I0610 21:20:05.775692490     155 xds_server.h:513]                     ADS[0x55e48df15770:Default Balancer]: Null read, stream closed
I0610 21:20:05.775879600      14 xds_end2end_test_lib.cc:159]          Backend shutdown completed
I0610 21:20:05.775900450      14 xds_end2end_test_lib.cc:155]          Balancer about to shutdown
I0610 21:20:05.775912130      14 xds_server.cc:155]                    ADS[0x55e48df15770:Default Balancer]: shut down
I0610 21:20:05.775919510      14 xds_server.cc:236]                    LRS[0x55e48df07310:Default Balancer]: shut down
I0610 21:20:05.776764490     151 xds_server.h:353]                     ADS[0x55e48df15770:Default Balancer]: StreamAggregatedResources done
I0610 21:20:05.777423480      14 xds_end2end_test_lib.cc:159]          Balancer shutdown completed
I0610 21:20:05.777523620      14 xds_client.cc:1617]                   [xds_client 0x7f6ed400e170] shutting down xds client
I0610 21:20:05.777541540      14 xds_client.cc:1611]                   [xds_client 0x7f6ed400e170] destroying xds client
[       OK ] XdsTest/XdsRbacTestWithActionPermutations.UrlPathPermissionAnyPrincipal/V3XdsCredsFilterPerRouteOverrideBootstrapFromEnvVarRbacDeny (51 ms)
[ RUN      ] XdsTest/XdsRbacTestWithActionPermutations.AndRulePermissionAnyPrincipal/V3RdsXdsCredsFilterPerRouteOverrideBootstrapFromEnvVarRbacDeny
I0610 21:20:05.777949410     149 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:05.780244710      14 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.782525020      14 xds_end2end_test_lib.cc:138]          starting Balancer server on port 4342
I0610 21:20:05.782626109     171 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:05.782689249     174 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:05.784770319     174 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.785419809      14 xds_end2end_test_lib.cc:150]          Balancer server startup complete
I0610 21:20:05.785493969      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.route.v3.RouteConfiguration resource route_config_name; resource_type_version now 1
I0610 21:20:05.785516379      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource server.example.com; resource_type_version now 1
I0610 21:20:05.785535339      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.cluster.v3.Cluster resource cluster_name; resource_type_version now 1
I0610 21:20:05.788280099      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.route.v3.RouteConfiguration resource default_server_route_config_name; resource_type_version now 2
I0610 21:20:05.788320049      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:3470; resource_type_version now 2
I0610 21:20:05.788765238      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment resource eds_service_name; resource_type_version now 1
I0610 21:20:05.788898008      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.route.v3.RouteConfiguration resource default_server_route_config_name; resource_type_version now 3
I0610 21:20:05.788924528      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:3470; resource_type_version now 3
I0610 21:20:05.788953529      14 xds_end2end_test_lib.cc:138]          starting Backend server on port 3470
I0610 21:20:05.789180838     193 xds_client_grpc.cc:210]               Got bootstrap contents from GRPC_XDS_BOOTSTRAP_CONFIG environment variable
I0610 21:20:05.789212758     193 xds_client_grpc.cc:260]               xDS bootstrap contents: {      "xds_servers": [
        {
          "server_uri": "localhost:4342",
          "channel_creds": [
            {
              "type": "fake"
            }
          ],
          "server_features": []
        }
      ],
  "node": {
    "id": "xds_end2end_test",
    "cluster": "test",
    "metadata": {
      "foo": "bar"
    },
    "locality": {
      "region": "corp",
      "zone": "svl",
      "sub_zone": "mp3"
    }
  },
  "server_listener_resource_name_template": "grpc/server?xds.resource.listening_address=%s",
  "certificate_providers": {
    "fake_plugin1": {
      "plugin_name": "fake1"
    },
    "fake_plugin2": {
      "plugin_name": "fake2"
    },
    "file_plugin": {
      "plugin_name": "file_watcher",
      "config": {
        "certificate_file": "src/core/tsi/test_creds/client.pem",
        "private_key_file": "src/core/tsi/test_creds/client.key",
        "ca_certificate_file": "src/core/tsi/test_creds/ca.pem"
      }
    }  
},
"authorities": {

}}
I0610 21:20:05.789511599     193 xds_client.cc:1600]                   [xds_client 0x7f6ed400cfc0] creating xds client
I0610 21:20:05.789526788     193 xds_client.cc:1604]                   [xds_client 0x7f6ed400cfc0] xDS node ID: xds_end2end_test
I0610 21:20:05.789542268     193 xds_client_grpc.cc:273]               [xds_client 0x7f6ed400cfc0] Created xDS client for key #server
I0610 21:20:05.789565579     193 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:05.800491347     193 xds_client.cc:465]                    [xds_client 0x7f6ed400cfc0] creating channel 0x7f6ed4061d70 for server localhost:4342
I0610 21:20:05.800727157     193 xds_client.cc:724]                    [xds_client 0x7f6ed400cfc0] xds server localhost:4342: start new call from retryable call 0x7f6ed4181280
I0610 21:20:05.800779917     193 xds_client.cc:1022]                   [xds_client 0x7f6ed400cfc0] xds server localhost:4342: starting ADS call (ads_call: 0x7f6ed4017b00, streaming_call: 0x7f6ed41c0eb0)
I0610 21:20:05.800824237     193 xds_client.cc:1076]                   [xds_client 0x7f6ed400cfc0] xds server localhost:4342: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:05.801012277      14 xds_end2end_test_lib.cc:150]          Backend server startup complete
I0610 21:20:05.803677327     182 xds_client.cc:1076]                   [xds_client 0x7f6ed400cfc0] xds server localhost:4342: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:05.804118827     192 xds_server.h:236]                     ADS[0x55e48df02ff0:Default Balancer]: StreamAggregatedResources starts
I0610 21:20:05.814463506     192 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content node {
  id: "xds_end2end_test"
  cluster: "test"
  metadata {
    fields {
      key: "foo"
      value {
        string_value: "bar"
      }
    }
  }
  locality {
    region: "corp"
    zone: "svl"
    sub_zone: "mp3"
  }
  user_agent_name: "gRPC C-core linux"
  user_agent_version: "C-core 41.0.0"
  client_features: "envoy.lb.does_not_support_overprovisioning"
  client_features: "xds.config.resource-in-sotw"
}
resource_names: "grpc/server?xds.resource.listening_address=[::1]:3470"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:05.814512815     192 xds_server.cc:104]                    ADS[0x55e48df02ff0:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name grpc/server?xds.resource.listening_address=[::1]:3470 state 0x7f6f227fa6d8
I0610 21:20:05.814523786     192 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:3470
I0610 21:20:05.814557586     192 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "3"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "1"

I0610 21:20:05.814845276     192 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:3470"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:3470"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:05.814877456     192 xds_server.cc:104]                    ADS[0x55e48df02ff0:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name grpc/server?xds.resource.listening_address=127.0.0.1:3470 state 0x7f6f227fa6d8
I0610 21:20:05.814898496     192 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:3470
I0610 21:20:05.814927795     192 xds_server.h:444]                     ADS[0x55e48df02ff0:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:3470
I0610 21:20:05.815091806     179 xds_client.cc:802]                    [xds_client 0x7f6ed400cfc0] xds server localhost:4342: received ADS response: type_url=envoy.config.listener.v3.Listener, version=3, nonce=1, num_resources=0
I0610 21:20:05.815156726     179 xds_client.cc:1076]                   [xds_client 0x7f6ed400cfc0] xds server localhost:4342: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=1 error=OK
I0610 21:20:05.815893216     192 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "3"
resources {
  [type.googleapis.com/envoy.config.listener.v3.Listener] {
    name: "grpc/server?xds.resource.listening_address=127.0.0.1:3470"
    address {
      socket_address {
        address: "127.0.0.1"
        port_value: 3470
      }
    }
    default_filter_chain {
      filters {
        typed_config {
          [type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager] {
            rds {
              config_source {
                self {
                }
              }
              route_config_name: "default_server_route_config_name"
            }
            http_filters {
              name: "rbac1"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.rbac.v3.RBAC] {
                }
              }
            }
            http_filters {
              name: "router"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.router.v3.Router] {
                }
              }
            }
          }
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "2"

I0610 21:20:05.816122696     192 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "3"
resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:3470"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:3470"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "1"

I0610 21:20:05.816148335     192 xds_server.h:385]                     ADS[0x55e48df02ff0:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=3
I0610 21:20:05.816261715     187 xds_client.cc:802]                    [xds_client 0x7f6ed400cfc0] xds server localhost:4342: received ADS response: type_url=envoy.config.listener.v3.Listener, version=3, nonce=2, num_resources=1
I0610 21:20:05.816390635     187 xds_listener.cc:1133]                 [xds_client 0x7f6ed400cfc0] parsed Listener grpc/server?xds.resource.listening_address=127.0.0.1:3470: {tcp_listener={address=127.0.0.1:3470, filter_chain_map={}, default_filter_chain={downstream_tls_context=common_tls_context={}, require_client_certificate=false http_connection_manager={rds_name=default_server_route_config_name, http_max_stream_duration=0ms, http_filters=[{name=rbac1, config={config_proto_type_name=envoy.extensions.filters.http.rbac.v3.RBAC config={}}}, {name=router, config={config_proto_type_name=envoy.extensions.filters.http.router.v3.Router config=null}}]}}}}
I0610 21:20:05.816484365     187 xds_client.cc:1076]                   [xds_client 0x7f6ed400cfc0] xds server localhost:4342: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=2 error=OK
I0610 21:20:05.816837315     187 xds_client.cc:1076]                   [xds_client 0x7f6ed400cfc0] xds server localhost:4342: sending ADS request: type=envoy.config.route.v3.RouteConfiguration version= nonce= error=OK
I0610 21:20:05.826336684     192 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "3"
resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:3470"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:3470"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "2"

I0610 21:20:05.826365184     192 xds_server.h:385]                     ADS[0x55e48df02ff0:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=3
I0610 21:20:05.826380954     192 xds_server.h:444]                     ADS[0x55e48df02ff0:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:3470
I0610 21:20:05.826399724     192 xds_server.h:444]                     ADS[0x55e48df02ff0:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:3470
I0610 21:20:05.826427554     192 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.route.v3.RouteConfiguration with content resource_names: "default_server_route_config_name"
type_url: "type.googleapis.com/envoy.config.route.v3.RouteConfiguration"

I0610 21:20:05.826444084     192 xds_server.cc:104]                    ADS[0x55e48df02ff0:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.route.v3.RouteConfiguration name default_server_route_config_name state 0x7f6f227fa6d8
I0610 21:20:05.826451844     192 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.route.v3.RouteConfiguration name=default_server_route_config_name
I0610 21:20:05.827376304     192 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "3"
resources {
  [type.googleapis.com/envoy.config.route.v3.RouteConfiguration] {
    name: "default_server_route_config_name"
    virtual_hosts {
      domains: "*"
      routes {
        match {
          prefix: ""
        }
        typed_per_filter_config {
          key: "rbac1"
          value {
            [type.googleapis.com/envoy.extensions.filters.http.rbac.v3.RBACPerRoute] {
              rbac {
                rules {
                  action: DENY
                  policies {
                    key: "policy"
                    value {
                      permissions {
                        and_rules {
                          rules {
                            any: true
                          }
                          rules {
                            destination_port: 3470
                          }
                        }
                      }
                      principals {
                        any: true
                      }
                    }
                  }
                }
              }
            }
          }
        }
        non_forwarding_action {
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.route.v3.RouteConfiguration"
nonce: "1"

I0610 21:20:05.827648864     187 xds_client.cc:802]                    [xds_client 0x7f6ed400cfc0] xds server localhost:4342: received ADS response: type_url=envoy.config.route.v3.RouteConfiguration, version=3, nonce=1, num_resources=1
I0610 21:20:05.827775674     187 xds_route_config.cc:1189]             [xds_client 0x7f6ed400cfc0] parsed RouteConfiguration default_server_route_config_name: vhost={
  domains=[*]
  routes=[
    {
PathMatcher{StringMatcher{prefix=}}
non_forwarding_action={}
typed_per_filter_config={
  rbac1={config_proto_type_name=envoy.extensions.filters.http.rbac.v3.RBACPerRoute config={"rules":{"action":1,"policies":{"policy":{"permissions":[{"andRules":{"rules":[{"any":true},{"destinationPort":3470}]}}],"principals":[{"any":true}]}}}}}
}
    }
  ]
  typed_per_filter_config={
  }
}
cluster_specifier_plugins={
}
I0610 21:20:05.827851614     187 xds_client.cc:1076]                   [xds_client 0x7f6ed400cfc0] xds server localhost:4342: sending ADS request: type=envoy.config.route.v3.RouteConfiguration version=3 nonce=1 error=OK
I0610 21:20:05.827966024      14 xds_end2end_test.cc:1054]             Sending RPC
I0610 21:20:05.829205614     187 xds_client.cc:1739]                   [xds_client 0x7f6ed400cfc0] returning cached listener data for default_server_route_config_name
I0610 21:20:05.832172283      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.route.v3.RouteConfiguration resource default_server_route_config_name; resource_type_version now 4
I0610 21:20:05.832222883      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:3470; resource_type_version now 4
I0610 21:20:05.832261983      14 xds_end2end_test.cc:1054]             Sending RPC
I0610 21:20:05.833427813     182 xds_client.cc:1739]                   [xds_client 0x7f6ed400cfc0] returning cached listener data for default_server_route_config_name
E0610 21:20:05.835897133      14 xds_end2end_test.cc:1088]             RPC failed. code=7 message=Unauthorized RPC rejected Trying again.
I0610 21:20:05.837453023     183 xds_client.cc:1739]                   [xds_client 0x7f6ed400cfc0] returning cached listener data for default_server_route_config_name
I0610 21:20:05.837670353     192 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.route.v3.RouteConfiguration with content version_info: "3"
resource_names: "default_server_route_config_name"
type_url: "type.googleapis.com/envoy.config.route.v3.RouteConfiguration"
response_nonce: "1"

I0610 21:20:05.837713633     192 xds_server.h:385]                     ADS[0x55e48df02ff0:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.route.v3.RouteConfiguration version=3
I0610 21:20:05.837733123     192 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.route.v3.RouteConfiguration name=default_server_route_config_name
I0610 21:20:05.838825263     192 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "4"
resources {
  [type.googleapis.com/envoy.config.route.v3.RouteConfiguration] {
    name: "default_server_route_config_name"
    virtual_hosts {
      domains: "*"
      routes {
        match {
          prefix: ""
        }
        typed_per_filter_config {
          key: "rbac1"
          value {
            [type.googleapis.com/envoy.extensions.filters.http.rbac.v3.RBACPerRoute] {
              rbac {
                rules {
                  action: DENY
                  policies {
                    key: "policy"
                    value {
                      permissions {
                        and_rules {
                          rules {
                            any: true
                          }
                          rules {
                            destination_port: 1
                          }
                        }
                      }
                      principals {
                        any: true
                      }
                    }
                  }
                }
              }
            }
          }
        }
        non_forwarding_action {
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.route.v3.RouteConfiguration"
nonce: "2"

I0610 21:20:05.838993543     192 xds_server.h:470]                     ADS[0x55e48df02ff0:Default Balancer]: Received update for type=type.googleapis.com/envoy.config.route.v3.RouteConfiguration name=default_server_route_config_name
I0610 21:20:05.839054023     192 xds_server.h:470]                     ADS[0x55e48df02ff0:Default Balancer]: Received update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:3470
I0610 21:20:05.839068853     192 xds_server.h:480]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:3470
I0610 21:20:05.839188143     176 xds_client.cc:802]                    [xds_client 0x7f6ed400cfc0] xds server localhost:4342: received ADS response: type_url=envoy.config.route.v3.RouteConfiguration, version=4, nonce=2, num_resources=1
I0610 21:20:05.839383393     176 xds_route_config.cc:1189]             [xds_client 0x7f6ed400cfc0] parsed RouteConfiguration default_server_route_config_name: vhost={
  domains=[*]
  routes=[
    {
PathMatcher{StringMatcher{prefix=}}
non_forwarding_action={}
typed_per_filter_config={
  rbac1={config_proto_type_name=envoy.extensions.filters.http.rbac.v3.RBACPerRoute config={"rules":{"action":1,"policies":{"policy":{"permissions":[{"andRules":{"rules":[{"any":true},{"destinationPort":1}]}}],"principals":[{"any":true}]}}}}}
}
    }
  ]
  typed_per_filter_config={
  }
}
cluster_specifier_plugins={
}
I0610 21:20:05.839500923     176 xds_client.cc:1076]                   [xds_client 0x7f6ed400cfc0] xds server localhost:4342: sending ADS request: type=envoy.config.route.v3.RouteConfiguration version=4 nonce=2 error=OK
I0610 21:20:05.839726283     192 xds_server.h:318]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update response: version_info: "4"
resources {
  [type.googleapis.com/envoy.config.listener.v3.Listener] {
    name: "grpc/server?xds.resource.listening_address=127.0.0.1:3470"
    address {
      socket_address {
        address: "127.0.0.1"
        port_value: 3470
      }
    }
    default_filter_chain {
      filters {
        typed_config {
          [type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager] {
            rds {
              config_source {
                self {
                }
              }
              route_config_name: "default_server_route_config_name"
            }
            http_filters {
              name: "rbac1"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.rbac.v3.RBAC] {
                }
              }
            }
            http_filters {
              name: "router"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.router.v3.Router] {
                }
              }
            }
          }
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "3"

E0610 21:20:05.839870222      14 xds_end2end_test.cc:1088]             RPC failed. code=7 message=Unauthorized RPC rejected Trying again.
I0610 21:20:05.839956903     192 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.route.v3.RouteConfiguration with content version_info: "4"
resource_names: "default_server_route_config_name"
type_url: "type.googleapis.com/envoy.config.route.v3.RouteConfiguration"
response_nonce: "2"

I0610 21:20:05.839979163     192 xds_server.h:385]                     ADS[0x55e48df02ff0:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.route.v3.RouteConfiguration version=4
I0610 21:20:05.839994892     192 xds_server.h:444]                     ADS[0x55e48df02ff0:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.route.v3.RouteConfiguration name=default_server_route_config_name
I0610 21:20:05.840040993     181 xds_client.cc:802]                    [xds_client 0x7f6ed400cfc0] xds server localhost:4342: received ADS response: type_url=envoy.config.listener.v3.Listener, version=4, nonce=3, num_resources=1
I0610 21:20:05.840202832     181 xds_listener.cc:1133]                 [xds_client 0x7f6ed400cfc0] parsed Listener grpc/server?xds.resource.listening_address=127.0.0.1:3470: {tcp_listener={address=127.0.0.1:3470, filter_chain_map={}, default_filter_chain={downstream_tls_context=common_tls_context={}, require_client_certificate=false http_connection_manager={rds_name=default_server_route_config_name, http_max_stream_duration=0ms, http_filters=[{name=rbac1, config={config_proto_type_name=envoy.extensions.filters.http.rbac.v3.RBAC config={}}}, {name=router, config={config_proto_type_name=envoy.extensions.filters.http.router.v3.Router config=null}}]}}}}
I0610 21:20:05.840249102     181 xds_client.cc:968]                    [xds_client 0x7f6ed400cfc0] envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:3470 identical to current, ignoring.
I0610 21:20:05.840284273     181 xds_client.cc:1076]                   [xds_client 0x7f6ed400cfc0] xds server localhost:4342: sending ADS request: type=envoy.config.listener.v3.Listener version=4 nonce=3 error=OK
I0610 21:20:05.841403612     178 xds_client.cc:1739]                   [xds_client 0x7f6ed400cfc0] returning cached listener data for default_server_route_config_name
I0610 21:20:05.843912772      14 xds_end2end_test_lib.cc:155]          Backend about to shutdown
I0610 21:20:05.844173412      14 xds_client.cc:1076]                   [xds_client 0x7f6ed400cfc0] xds server localhost:4342: sending ADS request: type=envoy.config.listener.v3.Listener version=4 nonce=3 error=OK
I0610 21:20:05.844559372      14 xds_client.cc:1076]                   [xds_client 0x7f6ed400cfc0] xds server localhost:4342: sending ADS request: type=envoy.config.listener.v3.Listener version=4 nonce=3 error=OK
I0610 21:20:05.844926432     178 xds_client.cc:494]                    [xds_client 0x7f6ed400cfc0] orphaning xds channel 0x7f6ed4061d70 for server localhost:4342
I0610 21:20:05.845007992      14 xds_end2end_test_lib.cc:159]          Backend shutdown completed
I0610 21:20:05.845023032      14 xds_end2end_test_lib.cc:155]          Balancer about to shutdown
I0610 21:20:05.845038362      14 xds_server.cc:155]                    ADS[0x55e48df02ff0:Default Balancer]: shut down
I0610 21:20:05.845046492      14 xds_server.cc:236]                    LRS[0x55e48df07310:Default Balancer]: shut down
I0610 21:20:05.845392422     178 xds_client.cc:1266]                   [xds_client 0x7f6ed400cfc0] xds server localhost:4342: ADS call status received (xds_channel=0x7f6ed4061d70, ads_call=0x7f6ed4017b00, streaming_call=(nil)): CANCELLED: CANCELLED
I0610 21:20:05.845421782     178 xds_client.cc:482]                    [xds_client 0x7f6ed400cfc0] destroying xds channel 0x7f6ed4061d70 for server localhost:4342
I0610 21:20:05.846183072     196 xds_server.h:513]                     ADS[0x55e48df02ff0:Default Balancer]: Null read, stream closed
I0610 21:20:05.850165771     192 xds_server.h:353]                     ADS[0x55e48df02ff0:Default Balancer]: StreamAggregatedResources done
I0610 21:20:05.850731321      14 xds_end2end_test_lib.cc:159]          Balancer shutdown completed
I0610 21:20:05.850835321      14 xds_client.cc:1617]                   [xds_client 0x7f6ed400cfc0] shutting down xds client
I0610 21:20:05.850853171      14 xds_client.cc:1611]                   [xds_client 0x7f6ed400cfc0] destroying xds client
[       OK ] XdsTest/XdsRbacTestWithActionPermutations.AndRulePermissionAnyPrincipal/V3RdsXdsCredsFilterPerRouteOverrideBootstrapFromEnvVarRbacDeny (73 ms)
[ RUN      ] XdsTest/XdsRbacTestWithActionPermutations.AnyPermissionRemoteIpPrincipal/V3XdsCredsBootstrapFromEnvVarRbacDeny
I0610 21:20:05.851360101     181 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:05.854078901      14 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.856410690      14 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:05.857145790      14 xds_end2end_test_lib.cc:138]          starting Balancer server on port 1926
I0610 21:20:05.857770990     215 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:05.859300080     215 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.859906460      14 xds_end2end_test_lib.cc:150]          Balancer server startup complete
I0610 21:20:05.860021000      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource server.example.com; resource_type_version now 1
I0610 21:20:05.860052880      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.cluster.v3.Cluster resource cluster_name; resource_type_version now 1
I0610 21:20:05.862745350      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:23402; resource_type_version now 2
I0610 21:20:05.863172590      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment resource eds_service_name; resource_type_version now 1
I0610 21:20:05.863295870      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:23402; resource_type_version now 3
I0610 21:20:05.863340260      14 xds_end2end_test_lib.cc:138]          starting Backend server on port 23402
I0610 21:20:05.863535240     234 xds_client_grpc.cc:210]               Got bootstrap contents from GRPC_XDS_BOOTSTRAP_CONFIG environment variable
I0610 21:20:05.863562140     234 xds_client_grpc.cc:260]               xDS bootstrap contents: {      "xds_servers": [
        {
          "server_uri": "localhost:1926",
          "channel_creds": [
            {
              "type": "fake"
            }
          ],
          "server_features": []
        }
      ],
  "node": {
    "id": "xds_end2end_test",
    "cluster": "test",
    "metadata": {
      "foo": "bar"
    },
    "locality": {
      "region": "corp",
      "zone": "svl",
      "sub_zone": "mp3"
    }
  },
  "server_listener_resource_name_template": "grpc/server?xds.resource.listening_address=%s",
  "certificate_providers": {
    "fake_plugin1": {
      "plugin_name": "fake1"
    },
    "fake_plugin2": {
      "plugin_name": "fake2"
    },
    "file_plugin": {
      "plugin_name": "file_watcher",
      "config": {
        "certificate_file": "src/core/tsi/test_creds/client.pem",
        "private_key_file": "src/core/tsi/test_creds/client.key",
        "ca_certificate_file": "src/core/tsi/test_creds/ca.pem"
      }
    }  
},
"authorities": {

}}
I0610 21:20:05.863776710     234 xds_client.cc:1600]                   [xds_client 0x7f6efc001400] creating xds client
I0610 21:20:05.863790570     234 xds_client.cc:1604]                   [xds_client 0x7f6efc001400] xDS node ID: xds_end2end_test
I0610 21:20:05.863805840     234 xds_client_grpc.cc:273]               [xds_client 0x7f6efc001400] Created xDS client for key #server
I0610 21:20:05.863829800     234 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:05.876622118     234 xds_client.cc:465]                    [xds_client 0x7f6efc001400] creating channel 0x7f6efc05b920 for server localhost:1926
I0610 21:20:05.876860148     234 xds_client.cc:724]                    [xds_client 0x7f6efc001400] xds server localhost:1926: start new call from retryable call 0x7f6efc19d9f0
I0610 21:20:05.876927478     234 xds_client.cc:1022]                   [xds_client 0x7f6efc001400] xds server localhost:1926: starting ADS call (ads_call: 0x7f6efc19dbd0, streaming_call: 0x7f6efc19dc70)
I0610 21:20:05.877113948     234 xds_client.cc:1076]                   [xds_client 0x7f6efc001400] xds server localhost:1926: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:05.877382338      14 xds_end2end_test_lib.cc:150]          Backend server startup complete
I0610 21:20:05.880317988     217 xds_client.cc:1076]                   [xds_client 0x7f6efc001400] xds server localhost:1926: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:05.881163727     233 xds_server.h:236]                     ADS[0x55e48df02ff0:Default Balancer]: StreamAggregatedResources starts
I0610 21:20:05.891456756     233 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content node {
  id: "xds_end2end_test"
  cluster: "test"
  metadata {
    fields {
      key: "foo"
      value {
        string_value: "bar"
      }
    }
  }
  locality {
    region: "corp"
    zone: "svl"
    sub_zone: "mp3"
  }
  user_agent_name: "gRPC C-core linux"
  user_agent_version: "C-core 41.0.0"
  client_features: "envoy.lb.does_not_support_overprovisioning"
  client_features: "xds.config.resource-in-sotw"
}
resource_names: "grpc/server?xds.resource.listening_address=[::1]:23402"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:05.891497326     233 xds_server.cc:104]                    ADS[0x55e48df02ff0:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name grpc/server?xds.resource.listening_address=[::1]:23402 state 0x7f6f227fa6d8
I0610 21:20:05.891508316     233 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:23402
I0610 21:20:05.891539576     233 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "3"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "1"

I0610 21:20:05.891798926     233 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:23402"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:23402"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:05.891829326     233 xds_server.cc:104]                    ADS[0x55e48df02ff0:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name grpc/server?xds.resource.listening_address=127.0.0.1:23402 state 0x7f6f227fa6d8
I0610 21:20:05.891839056     233 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:23402
I0610 21:20:05.891850896     233 xds_server.h:444]                     ADS[0x55e48df02ff0:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:23402
I0610 21:20:05.891972076     231 xds_client.cc:802]                    [xds_client 0x7f6efc001400] xds server localhost:1926: received ADS response: type_url=envoy.config.listener.v3.Listener, version=3, nonce=1, num_resources=0
I0610 21:20:05.892010386     231 xds_client.cc:1076]                   [xds_client 0x7f6efc001400] xds server localhost:1926: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=1 error=OK
I0610 21:20:05.893232816     233 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "3"
resources {
  [type.googleapis.com/envoy.config.listener.v3.Listener] {
    name: "grpc/server?xds.resource.listening_address=127.0.0.1:23402"
    address {
      socket_address {
        address: "127.0.0.1"
        port_value: 23402
      }
    }
    default_filter_chain {
      filters {
        typed_config {
          [type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager] {
            route_config {
              name: "default_server_route_config_name"
              virtual_hosts {
                domains: "*"
                routes {
                  match {
                    prefix: ""
                  }
                  non_forwarding_action {
                  }
                }
              }
            }
            http_filters {
              name: "rbac1"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.rbac.v3.RBAC] {
                  rules {
                    action: DENY
                    policies {
                      key: "policy"
                      value {
                        permissions {
                          any: true
                        }
                        principals {
                          remote_ip {
                            address_prefix: "127.0.0.1"
                            prefix_len {
                              value: 32
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
            http_filters {
              name: "router"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.router.v3.Router] {
                }
              }
            }
          }
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "2"

I0610 21:20:05.893462836     233 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "3"
resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:23402"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:23402"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "1"

I0610 21:20:05.893483176     233 xds_server.h:385]                     ADS[0x55e48df02ff0:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=3
I0610 21:20:05.893561676     225 xds_client.cc:802]                    [xds_client 0x7f6efc001400] xds server localhost:1926: received ADS response: type_url=envoy.config.listener.v3.Listener, version=3, nonce=2, num_resources=1
I0610 21:20:05.893751146     225 xds_listener.cc:1133]                 [xds_client 0x7f6efc001400] parsed Listener grpc/server?xds.resource.listening_address=127.0.0.1:23402: {tcp_listener={address=127.0.0.1:23402, filter_chain_map={}, default_filter_chain={downstream_tls_context=common_tls_context={}, require_client_certificate=false http_connection_manager={route_config=vhost={
  domains=[*]
  routes=[
    {
PathMatcher{StringMatcher{prefix=}}
non_forwarding_action={}
    }
  ]
  typed_per_filter_config={
  }
}
cluster_specifier_plugins={
}, http_max_stream_duration=0ms, http_filters=[{name=rbac1, config={config_proto_type_name=envoy.extensions.filters.http.rbac.v3.RBAC config={"rules":{"action":1,"policies":{"policy":{"permissions":[{"any":true}],"principals":[{"remoteIp":{"addressPrefix":"127.0.0.1","prefixLen":32}}]}}}}}}, {name=router, config={config_proto_type_name=envoy.extensions.filters.http.router.v3.Router config=null}}]}}}}
I0610 21:20:05.893843016     225 xds_client.cc:1076]                   [xds_client 0x7f6efc001400] xds server localhost:1926: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=2 error=OK
I0610 21:20:05.893936726      14 xds_end2end_test.cc:1054]             Sending RPC
I0610 21:20:05.897727816      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:23402; resource_type_version now 4
I0610 21:20:05.897777295      14 xds_end2end_test.cc:1054]             Sending RPC
E0610 21:20:05.901261935      14 xds_end2end_test.cc:1088]             RPC failed. code=7 message=Unauthorized RPC rejected Trying again.
I0610 21:20:05.903625035     233 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "3"
resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:23402"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:23402"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "2"

I0610 21:20:05.903660205     233 xds_server.h:385]                     ADS[0x55e48df02ff0:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=3
I0610 21:20:05.903678255     233 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:23402
I0610 21:20:05.903694515     233 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:23402
E0610 21:20:05.904962625      14 xds_end2end_test.cc:1088]             RPC failed. code=7 message=Unauthorized RPC rejected Trying again.
I0610 21:20:05.905232094     233 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "4"
resources {
  [type.googleapis.com/envoy.config.listener.v3.Listener] {
    name: "grpc/server?xds.resource.listening_address=127.0.0.1:23402"
    address {
      socket_address {
        address: "127.0.0.1"
        port_value: 23402
      }
    }
    default_filter_chain {
      filters {
        typed_config {
          [type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager] {
            route_config {
              name: "default_server_route_config_name"
              virtual_hosts {
                domains: "*"
                routes {
                  match {
                    prefix: ""
                  }
                  non_forwarding_action {
                  }
                }
              }
            }
            http_filters {
              name: "rbac1"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.rbac.v3.RBAC] {
                  rules {
                    action: DENY
                    policies {
                      key: "policy"
                      value {
                        permissions {
                          any: true
                        }
                        principals {
                          remote_ip {
                            address_prefix: "127.0.0.2"
                            prefix_len {
                              value: 32
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
            http_filters {
              name: "router"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.router.v3.Router] {
                }
              }
            }
          }
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "3"

I0610 21:20:05.905422734     233 xds_server.h:470]                     ADS[0x55e48df02ff0:Default Balancer]: Received update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:23402
I0610 21:20:05.905615314     224 xds_client.cc:802]                    [xds_client 0x7f6efc001400] xds server localhost:1926: received ADS response: type_url=envoy.config.listener.v3.Listener, version=4, nonce=3, num_resources=1
I0610 21:20:05.905856724     224 xds_listener.cc:1133]                 [xds_client 0x7f6efc001400] parsed Listener grpc/server?xds.resource.listening_address=127.0.0.1:23402: {tcp_listener={address=127.0.0.1:23402, filter_chain_map={}, default_filter_chain={downstream_tls_context=common_tls_context={}, require_client_certificate=false http_connection_manager={route_config=vhost={
  domains=[*]
  routes=[
    {
PathMatcher{StringMatcher{prefix=}}
non_forwarding_action={}
    }
  ]
  typed_per_filter_config={
  }
}
cluster_specifier_plugins={
}, http_max_stream_duration=0ms, http_filters=[{name=rbac1, config={config_proto_type_name=envoy.extensions.filters.http.rbac.v3.RBAC config={"rules":{"action":1,"policies":{"policy":{"permissions":[{"any":true}],"principals":[{"remoteIp":{"addressPrefix":"127.0.0.2","prefixLen":32}}]}}}}}}, {name=router, config={config_proto_type_name=envoy.extensions.filters.http.router.v3.Router config=null}}]}}}}
I0610 21:20:05.905960994     224 xds_client.cc:1076]                   [xds_client 0x7f6efc001400] xds server localhost:1926: sending ADS request: type=envoy.config.listener.v3.Listener version=4 nonce=3 error=OK
I0610 21:20:05.908685964      14 xds_end2end_test_lib.cc:155]          Backend about to shutdown
I0610 21:20:05.908916154      14 xds_client.cc:1076]                   [xds_client 0x7f6efc001400] xds server localhost:1926: sending ADS request: type=envoy.config.listener.v3.Listener version=4 nonce=3 error=OK
I0610 21:20:05.909060564      14 xds_client.cc:494]                    [xds_client 0x7f6efc001400] orphaning xds channel 0x7f6efc05b920 for server localhost:1926
I0610 21:20:05.909580974      14 xds_client.cc:1266]                   [xds_client 0x7f6efc001400] xds server localhost:1926: ADS call status received (xds_channel=0x7f6efc05b920, ads_call=0x7f6efc19dbd0, streaming_call=(nil)): CANCELLED: CANCELLED
I0610 21:20:05.909653734      14 xds_client.cc:482]                    [xds_client 0x7f6efc001400] destroying xds channel 0x7f6efc05b920 for server localhost:1926
I0610 21:20:05.909968874     237 xds_server.h:513]                     ADS[0x55e48df02ff0:Default Balancer]: Null read, stream closed
I0610 21:20:05.910228674      14 xds_end2end_test_lib.cc:159]          Backend shutdown completed
I0610 21:20:05.910250494      14 xds_end2end_test_lib.cc:155]          Balancer about to shutdown
I0610 21:20:05.910264784      14 xds_server.cc:155]                    ADS[0x55e48df02ff0:Default Balancer]: shut down
I0610 21:20:05.910271694      14 xds_server.cc:236]                    LRS[0x55e48df07310:Default Balancer]: shut down
I0610 21:20:05.915530603     233 xds_server.h:353]                     ADS[0x55e48df02ff0:Default Balancer]: StreamAggregatedResources done
I0610 21:20:05.916214853      14 xds_end2end_test_lib.cc:159]          Balancer shutdown completed
I0610 21:20:05.916344663      14 xds_client.cc:1617]                   [xds_client 0x7f6efc001400] shutting down xds client
I0610 21:20:05.916375103      14 xds_client.cc:1611]                   [xds_client 0x7f6efc001400] destroying xds client
[       OK ] XdsTest/XdsRbacTestWithActionPermutations.AnyPermissionRemoteIpPrincipal/V3XdsCredsBootstrapFromEnvVarRbacDeny (65 ms)
[ RUN      ] XdsTest/XdsRbacTestWithActionPermutations.AuditLoggerNotInvokedOnAuditConditionNone/V3RdsXdsCredsBootstrapFromEnvVarRbacDeny
I0610 21:20:05.916770153     218 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:05.918349883      14 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.920536073      14 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:05.921339703      14 xds_end2end_test_lib.cc:138]          starting Balancer server on port 18646
I0610 21:20:05.921469333     256 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:05.922748742     256 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.923470643      14 xds_end2end_test_lib.cc:150]          Balancer server startup complete
I0610 21:20:05.923590233      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.route.v3.RouteConfiguration resource route_config_name; resource_type_version now 1
I0610 21:20:05.923622153      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource server.example.com; resource_type_version now 1
I0610 21:20:05.923644342      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.cluster.v3.Cluster resource cluster_name; resource_type_version now 1
I0610 21:20:05.926186082      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.route.v3.RouteConfiguration resource default_server_route_config_name; resource_type_version now 2
I0610 21:20:05.926223042      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:13872; resource_type_version now 2
I0610 21:20:05.926650242      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment resource eds_service_name; resource_type_version now 1
I0610 21:20:05.926980132      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.route.v3.RouteConfiguration resource default_server_route_config_name; resource_type_version now 3
I0610 21:20:05.927032432      14 xds_server.cc:54]                     ADS[0x55e48df02ff0:Default Balancer]: Updating type.googleapis.com/envoy.config.listener.v3.Listener resource grpc/server?xds.resource.listening_address=127.0.0.1:13872; resource_type_version now 3
I0610 21:20:05.927070602      14 xds_end2end_test_lib.cc:138]          starting Backend server on port 13872
I0610 21:20:05.927287802     275 xds_client_grpc.cc:210]               Got bootstrap contents from GRPC_XDS_BOOTSTRAP_CONFIG environment variable
I0610 21:20:05.927320052     275 xds_client_grpc.cc:260]               xDS bootstrap contents: {      "xds_servers": [
        {
          "server_uri": "localhost:18646",
          "channel_creds": [
            {
              "type": "fake"
            }
          ],
          "server_features": []
        }
      ],
  "node": {
    "id": "xds_end2end_test",
    "cluster": "test",
    "metadata": {
      "foo": "bar"
    },
    "locality": {
      "region": "corp",
      "zone": "svl",
      "sub_zone": "mp3"
    }
  },
  "server_listener_resource_name_template": "grpc/server?xds.resource.listening_address=%s",
  "certificate_providers": {
    "fake_plugin1": {
      "plugin_name": "fake1"
    },
    "fake_plugin2": {
      "plugin_name": "fake2"
    },
    "file_plugin": {
      "plugin_name": "file_watcher",
      "config": {
        "certificate_file": "src/core/tsi/test_creds/client.pem",
        "private_key_file": "src/core/tsi/test_creds/client.key",
        "ca_certificate_file": "src/core/tsi/test_creds/ca.pem"
      }
    }  
},
"authorities": {

}}
I0610 21:20:05.927608552     275 xds_client.cc:1600]                   [xds_client 0x7f6f180069e0] creating xds client
I0610 21:20:05.927626522     275 xds_client.cc:1604]                   [xds_client 0x7f6f180069e0] xDS node ID: xds_end2end_test
I0610 21:20:05.927648522     275 xds_client_grpc.cc:273]               [xds_client 0x7f6f180069e0] Created xDS client for key #server
I0610 21:20:05.927676452     275 server_builder.cc:354]                Synchronous server. Num CQs: 1, Min pollers: 1, Max Pollers: 2, CQ timeout (msec): 10000
I0610 21:20:05.940111811     275 xds_client.cc:465]                    [xds_client 0x7f6f180069e0] creating channel 0x7f6f18008460 for server localhost:18646
I0610 21:20:05.940389650     275 xds_client.cc:724]                    [xds_client 0x7f6f180069e0] xds server localhost:18646: start new call from retryable call 0x7f6f18057070
I0610 21:20:05.940430710     275 xds_client.cc:1022]                   [xds_client 0x7f6f180069e0] xds server localhost:18646: starting ADS call (ads_call: 0x7f6f18131320, streaming_call: 0x7f6f181c03d0)
I0610 21:20:05.940480040     275 xds_client.cc:1076]                   [xds_client 0x7f6f180069e0] xds server localhost:18646: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:05.940676910      14 xds_end2end_test_lib.cc:150]          Backend server startup complete
I0610 21:20:05.943852940     271 xds_client.cc:1076]                   [xds_client 0x7f6f180069e0] xds server localhost:18646: sending ADS request: type=envoy.config.listener.v3.Listener version= nonce= error=OK
I0610 21:20:05.944618410     274 xds_server.h:236]                     ADS[0x55e48df02ff0:Default Balancer]: StreamAggregatedResources starts
I0610 21:20:05.954896118     274 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content node {
  id: "xds_end2end_test"
  cluster: "test"
  metadata {
    fields {
      key: "foo"
      value {
        string_value: "bar"
      }
    }
  }
  locality {
    region: "corp"
    zone: "svl"
    sub_zone: "mp3"
  }
  user_agent_name: "gRPC C-core linux"
  user_agent_version: "C-core 41.0.0"
  client_features: "envoy.lb.does_not_support_overprovisioning"
  client_features: "xds.config.resource-in-sotw"
}
resource_names: "grpc/server?xds.resource.listening_address=[::1]:13872"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:05.954936569     274 xds_server.cc:104]                    ADS[0x55e48df02ff0:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name grpc/server?xds.resource.listening_address=[::1]:13872 state 0x7f6f21ff96d8
I0610 21:20:05.954947089     274 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:13872
I0610 21:20:05.954977249     274 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "3"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "1"

I0610 21:20:05.955286978     274 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:13872"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:13872"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"

I0610 21:20:05.955316558     274 xds_server.cc:104]                    ADS[0x55e48df02ff0:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.listener.v3.Listener name grpc/server?xds.resource.listening_address=127.0.0.1:13872 state 0x7f6f21ff96d8
I0610 21:20:05.955333448     274 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:13872
I0610 21:20:05.955345478     274 xds_server.h:444]                     ADS[0x55e48df02ff0:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:13872
I0610 21:20:05.955464788     264 xds_client.cc:802]                    [xds_client 0x7f6f180069e0] xds server localhost:18646: received ADS response: type_url=envoy.config.listener.v3.Listener, version=3, nonce=1, num_resources=0
I0610 21:20:05.955509448     264 xds_client.cc:1076]                   [xds_client 0x7f6f180069e0] xds server localhost:18646: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=1 error=OK
I0610 21:20:05.956339688     274 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "3"
resources {
  [type.googleapis.com/envoy.config.listener.v3.Listener] {
    name: "grpc/server?xds.resource.listening_address=127.0.0.1:13872"
    address {
      socket_address {
        address: "127.0.0.1"
        port_value: 13872
      }
    }
    default_filter_chain {
      filters {
        typed_config {
          [type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager] {
            rds {
              config_source {
                self {
                }
              }
              route_config_name: "default_server_route_config_name"
            }
            http_filters {
              name: "rbac1"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.rbac.v3.RBAC] {
                  rules {
                    action: DENY
                    audit_logging_options {
                      logger_configs {
                        audit_logger {
                          typed_config {
                            [type.googleapis.com/xds.type.v3.TypedStruct] {
                              type_url: "/test_logger"
                              value {
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
            http_filters {
              name: "router"
              typed_config {
                [type.googleapis.com/envoy.extensions.filters.http.router.v3.Router] {
                }
              }
            }
          }
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
nonce: "2"

I0610 21:20:05.956546728     274 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "3"
resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:13872"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:13872"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "1"

I0610 21:20:05.956566788     274 xds_server.h:385]                     ADS[0x55e48df02ff0:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=3
I0610 21:20:05.956628238     261 xds_client.cc:802]                    [xds_client 0x7f6f180069e0] xds server localhost:18646: received ADS response: type_url=envoy.config.listener.v3.Listener, version=3, nonce=2, num_resources=1
I0610 21:20:05.956804928     261 xds_listener.cc:1133]                 [xds_client 0x7f6f180069e0] parsed Listener grpc/server?xds.resource.listening_address=127.0.0.1:13872: {tcp_listener={address=127.0.0.1:13872, filter_chain_map={}, default_filter_chain={downstream_tls_context=common_tls_context={}, require_client_certificate=false http_connection_manager={rds_name=default_server_route_config_name, http_max_stream_duration=0ms, http_filters=[{name=rbac1, config={config_proto_type_name=envoy.extensions.filters.http.rbac.v3.RBAC config={"rules":{"action":1,"audit_condition":0,"audit_loggers":[{"test_logger":{}}]}}}}, {name=router, config={config_proto_type_name=envoy.extensions.filters.http.router.v3.Router config=null}}]}}}}
I0610 21:20:05.956884778     261 xds_client.cc:1076]                   [xds_client 0x7f6f180069e0] xds server localhost:18646: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=2 error=OK
I0610 21:20:05.957292628     261 xds_client.cc:1076]                   [xds_client 0x7f6f180069e0] xds server localhost:18646: sending ADS request: type=envoy.config.route.v3.RouteConfiguration version= nonce= error=OK
I0610 21:20:05.966698367     274 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.listener.v3.Listener with content version_info: "3"
resource_names: "grpc/server?xds.resource.listening_address=127.0.0.1:13872"
resource_names: "grpc/server?xds.resource.listening_address=[::1]:13872"
type_url: "type.googleapis.com/envoy.config.listener.v3.Listener"
response_nonce: "2"

I0610 21:20:05.966724977     274 xds_server.h:385]                     ADS[0x55e48df02ff0:Default Balancer]: client ACKed resource_type=type.googleapis.com/envoy.config.listener.v3.Listener version=3
I0610 21:20:05.966737537     274 xds_server.h:444]                     ADS[0x55e48df02ff0:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=127.0.0.1:13872
I0610 21:20:05.966747717     274 xds_server.h:444]                     ADS[0x55e48df02ff0:Default Balancer]: client does not need update for type=type.googleapis.com/envoy.config.listener.v3.Listener name=grpc/server?xds.resource.listening_address=[::1]:13872
I0610 21:20:05.966773127     274 xds_server.h:286]                     ADS[0x55e48df02ff0:Default Balancer]: Received request for type type.googleapis.com/envoy.config.route.v3.RouteConfiguration with content resource_names: "default_server_route_config_name"
type_url: "type.googleapis.com/envoy.config.route.v3.RouteConfiguration"

I0610 21:20:05.966788547     274 xds_server.cc:104]                    ADS[0x55e48df02ff0:Default Balancer]: subscribe to resource type type.googleapis.com/envoy.config.route.v3.RouteConfiguration name default_server_route_config_name state 0x7f6f21ff96d8
I0610 21:20:05.966795917     274 xds_server.h:429]                     ADS[0x55e48df02ff0:Default Balancer]: Sending update for type=type.googleapis.com/envoy.config.route.v3.RouteConfiguration name=default_server_route_config_name
I0610 21:20:05.967217967     274 xds_server.h:297]                     ADS[0x55e48df02ff0:Default Balancer]: Sending response: version_info: "3"
resources {
  [type.googleapis.com/envoy.config.route.v3.RouteConfiguration] {
    name: "default_server_route_config_name"
    virtual_hosts {
      domains: "*"
      routes {
        match {
          prefix: ""
        }
        non_forwarding_action {
        }
      }
    }
  }
}
type_url: "type.googleapis.com/envoy.config.route.v3.RouteConfiguration"
nonce: "1"

I0610 21:20:05.967518037     258 xds_client.cc:802]                    [xds_client 0x7f6f180069e0] xds server localhost:18646: received ADS response: type_url=envoy.config.route.v3.RouteConfiguration, version=3, nonce=1, num_resources=1
I0610 21:20:05.967608907     258 xds_route_config.cc:1189]             [xds_client 0x7f6f180069e0] parsed RouteConfiguration default_server_route_config_name: vhost={
  domains=[*]
  routes=[
    {
PathMatcher{StringMatcher{prefix=}}
non_forwarding_action={}
    }
  ]
  typed_per_filter_config={
  }
}
cluster_specifier_plugins={
}
I0610 21:20:05.967685257     258 xds_client.cc:1076]                   [xds_client 0x7f6f180069e0] xds server localhost:18646: sending ADS request: type=envoy.config.route.v3.RouteConfiguration version=3 nonce=1 error=OK
I0610 21:20:05.967749807      14 xds_end2end_test.cc:1054]             Sending RPC
I0610 21:20:05.968838537     258 xds_client.cc:1739]                   [xds_client 0x7f6f180069e0] returning cached listener data for default_server_route_config_name
I0610 21:20:05.971271716      14 xds_end2end_test_lib.cc:155]          Backend about to shutdown
I0610 21:20:05.971452296      14 xds_client.cc:1076]                   [xds_client 0x7f6f180069e0] xds server localhost:18646: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=2 error=OK
I0610 21:20:05.971850666      14 xds_client.cc:1076]                   [xds_client 0x7f6f180069e0] xds server localhost:18646: sending ADS request: type=envoy.config.listener.v3.Listener version=3 nonce=2 error=OK
I0610 21:20:05.972240186     261 xds_client.cc:494]                    [xds_client 0x7f6f180069e0] orphaning xds channel 0x7f6f18008460 for server localhost:18646
I0610 21:20:05.972255816      14 xds_end2end_test_lib.cc:159]          Backend shutdown completed
I0610 21:20:05.972277466      14 xds_end2end_test_lib.cc:155]          Balancer about to shutdown
I0610 21:20:05.972289416      14 xds_server.cc:155]                    ADS[0x55e48df02ff0:Default Balancer]: shut down
I0610 21:20:05.972299086      14 xds_server.cc:236]                    LRS[0x55e48df07310:Default Balancer]: shut down
I0610 21:20:05.972770056     261 xds_client.cc:1266]                   [xds_client 0x7f6f180069e0] xds server localhost:18646: ADS call status received (xds_channel=0x7f6f18008460, ads_call=0x7f6f18131320, streaming_call=(nil)): CANCELLED: CANCELLED
I0610 21:20:05.972793116     261 xds_client.cc:482]                    [xds_client 0x7f6f180069e0] destroying xds channel 0x7f6f18008460 for server localhost:18646
I0610 21:20:05.973384546     278 xds_server.h:513]                     ADS[0x55e48df02ff0:Default Balancer]: Null read, stream closed
I0610 21:20:05.977492586     274 xds_server.h:353]                     ADS[0x55e48df02ff0:Default Balancer]: StreamAggregatedResources done
I0610 21:20:05.978176226      14 xds_end2end_test_lib.cc:159]          Balancer shutdown completed
I0610 21:20:05.978326006      14 xds_client.cc:1617]                   [xds_client 0x7f6f180069e0] shutting down xds client
I0610 21:20:05.978350706      14 xds_client.cc:1611]                   [xds_client 0x7f6f180069e0] destroying xds client
[       OK ] XdsTest/XdsRbacTestWithActionPermutations.AuditLoggerNotInvokedOnAuditConditionNone/V3RdsXdsCredsBootstrapFromEnvVarRbacDeny (61 ms)
[----------] 5 tests from XdsTest/XdsRbacTestWithActionPermutations (315 ms total)

[----------] Global test environment tear-down
I0610 21:20:05.978764506     263 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
[==========] 7 tests from 3 test suites ran. (3504 ms total)
[  PASSED  ] 7 tests.
I0610 21:20:05.980970755      14 test_config.cc:174]                   TestEnvironment ends
I0610 21:20:05.981088705      14 ev_epoll1_linux.cc:124]               grpc epoll fd: 3
I0610 21:20:05.982828535      14 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.986889395      14 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:05.989184204      14 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.991478824      14 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:05.993857623      14 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:05.995997803      14 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:05.999037073      14 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:06.004954422      14 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:06.007776802      14 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:06.015343151      14 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
I0610 21:20:06.017746921      14 ev_epoll1_linux.cc:359]               grpc epoll fd: 5
I0610 21:20:06.024938590     383 work_stealing_thread_pool.cc:269]     WorkStealingThreadPoolImpl::Quiesce
